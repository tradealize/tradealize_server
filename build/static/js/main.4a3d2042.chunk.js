(this.webpackJsonptradealize_client=this.webpackJsonptradealize_client||[]).push([[1],{139:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=139},149:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),s=n(51),r=n.n(s),i=n(0),o=n(6),l=n(15),d="SET_PLATFORM",u="SET_DEVICE",b=function(e,t){var n=t.type,a=t.payload;switch(n){case d:return Object(o.a)(Object(o.a)({},e),{},{platform:a});case u:return Object(o.a)(Object(o.a)({},e),{},{device:a});default:return Object(o.a)({},e)}},j=n(69),m=n(45),h=n(96),p={platform:null,device:null},O=Object(a.createContext)(p),f=n(5),x="LOGIN",v="LOGOUT",g="RESER_AUTH",y="PHONE_EXISTS",N="USERS_RECEIVED",A="SET_PROPIEDAD_USER",C="RESET_AUTH_PROVIDER",w="SET_CONFIRMATION_RESULT",E="SHOW_MODAL",S="HIDE_MODAL",_="SET_RESPONSE",k="CLEAR_MODAL",P="CLEAR_SUCCESS",I="CLEAR_ALERT",T="MODAL_COMPONENT",M="SHOW_ALERT",R="SHOW_SUCCESS",D="HIDE_SPINNER",U="SHOW_SPINNER",Y="SET_PAQUETE",B="SET_PAYMENT_SOURCE",L="PAYMENT_METHODS_RECIBIDOS",F="SET_DISCOUNT_CODE",G="SET_DESCUENTO",W="SHOW_SPINNER_DESCUENTO",H="HIDE_SPINNER_DESCUENTO",z="SET_FILTER",q="SET_PROPERTY_INVOICE",Z="CREATE_INVOICE",Q="SET_INVOICE",V=function(e,t){var n=t.type,a=t.payload;if(n===z){var c=a.key,s=a.value,r=a.namespace;return r&&""!==r&&null!==r?Object(o.a)(Object(o.a)({},e),{},Object(f.a)({},r,Object(o.a)(Object(o.a)({},e.namespace),{},Object(f.a)({},c,s)))):Object(o.a)(Object(o.a)({},e),{},Object(f.a)({},c,s))}return Object(o.a)({},e)},J={query:"",Training:""},K=Object(a.createContext)(J),X="PAYMENTSOURCES_RECEIVED",$=function(e,t){var n=t.type,a=t.payload;return n===X?Object(o.a)(Object(o.a)({},e),{},{payment_sources:a}):Object(o.a)({},e)},ee=n(84),te=n.n(ee),ne=n(20),ae=n.n(ne),ce=n(58),se="/api",re=se+"/files",ie=function(e){if(e&&null!==e){var t=Object.keys(e).map((function(t){return e[t]&&null!==e[t]&&""!==e[t]?"".concat(t,"=").concat(e[t]):null})).filter((function(e){return null!==e}));if(t.length>0)return"".concat(t.join("&"))}return""};function oe(e){return null===e?"-":((e=parseFloat(e))&&null!==e&&!isNaN(e)||(e=0),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))}var le=function(){var e=document.getElementById("main-button");e&&null!==e&&e.click()},de=function(){var e=document.getElementById("main-button");if(e&&null!==e)e.click();else{var t=document.createElement("button");t.attributes.href="#modal",t.id="main-button",t.setAttribute("data-toggle","modal"),t.setAttribute("data-target","#modal"),t.setAttribute("data-bs-toggle","modal"),t.setAttribute("data-bs-target","#modal"),t.style.visibility="hidden",document.body.appendChild(t),t.click()}},ue={style:{base:{color:"#333",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#333"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},be=function(e){var t=String(e);if(t.includes("iPhone"))return t.includes("X")||t.includes("11")||t.includes("12")||t.includes("13")||t.includes("14")||t.includes("15")};var je=function(e,t,n){if(e&&null!==e){var a=e[t];if(a&&null!==a&&""!==a)return"boolean"===n?!0===a||1===parseInt(a):"date"===n?ae()(a).utc().format("YYYY-MM-DD"):a}return"boolean"!==n&&""},me=function(e){var t=0;return Array.isArray(e.invoices)&&e.invoices.forEach((function(e){t+=parseFloat(e.total_payment)})),Array.isArray(e.purchases)&&e.purchases.forEach((function(e){null===e.subscription_id&&(t+=parseFloat(e.total_payment))})),t},he=function(){window.$('[data-bs-toggle="tooltip"]').tooltip({trigger:"hover"}),window.$('[rel="tooltip"]').on("click",(function(){window.$(this).tooltip("hide")}))},pe=te.a.create({baseURL:se,retryDelay:3e3,retry:3}),Oe=pe,fe="/payment_sources",xe=function(){return Oe.get(fe)},ve=function(e){return Oe.delete("".concat(fe,"/").concat(e))},ge=function(e){return Oe.post(fe,Object(o.a)({},e))},ye=function(e,t){var n=t.type,a=t.payload;switch(n){case E:return Object(o.a)(Object(o.a)({},e),{},{title:"Caution",showModal:!0,onCancel:a.onClose,onClose:a.onClose,content:a.content,callback:a.callback});case S:return Object(o.a)(Object(o.a)({},e),{},{show:!1});case _:return Object(o.a)(Object(o.a)({},e),{},{response:a});case T:return Object(o.a)(Object(o.a)(Object(o.a)({},e),a),{},{showModal:!0});case k:return Object(o.a)(Object(o.a)({},e),{},{size:void 0,show:!1,showModal:!1,content:"",component:"",title:"",onClose:"",callback:"",hideHeader:!1});case M:return Object(o.a)(Object(o.a)({},e),{},{showAlert:!0,alertContent:a});case I:return Object(o.a)(Object(o.a)({},e),{},{showAlert:!1,alertContent:""});case"CLEAR":return Object(o.a)({},e);case R:return Object(o.a)(Object(o.a)({},e),{},{showSuccess:!0,successContent:a});case P:return Object(o.a)(Object(o.a)({},e),{},{showSuccess:!1,successContent:""});default:return Object(o.a)({},e)}},Ne={response:"",show:!1,content:"",callback:""},Ae=Object(a.createContext)(Ne),Ce=function(e){var t=e.children,n=Object(a.useReducer)(ye,Ne),c=Object(l.a)(n,2),s=c[0],r=c[1];return Object(i.jsx)(Ae.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{alert:function(e){"object"===typeof e&&(e=function(e){return e.response&&e.response.data&&e.response.data.message?e.response.data.message:e.toString()}(e)),String(e).includes("401")||String(e).includes("400")||(r({type:M,payload:e}),setTimeout((function(){return r({type:I})}),5e3))},clear:function(){r({type:k})},confirm:function(e,t,n){r({type:E,payload:{content:e,callback:t,onClose:n}}),de()},success:function(e){r({type:R,payload:e}),setTimeout((function(){r({type:P})}),3e3)},hideAlert:function(){r({type:I})},clearModal:function(){r({type:k}),le()},clearAlert:function(){r({type:I})},setResponse:function(e){r({type:_,payload:e}),r({type:S})},clearSuccess:function(){r({type:P})},modalComponent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r({type:T,payload:Object(o.a)({title:e,component:t},n)}),de()},fullscreenModal:function(e,t,n,a){r({type:T,payload:{title:e,component:t,onClose:n,callback:a,fullscreen:!0}}),de()}}),children:t})},we={payment_sources:null},Ee=Object(a.createContext)(we),Se="SET_CONVERSATION",_e="CREATE_CONVERSATION",ke="CONVERSATIONS_RECEIVED",Pe="SET_PROPERTY_CONVERSATION",Ie="TAGS_RECEIVED",Te={conversation_id:"",name:""},Me=function(e,t){var n=t.type,a=t.payload;switch(n){case ke:return Object(o.a)(Object(o.a)({},e),{},{conversations:a});case Se:return Object(o.a)(Object(o.a)({},e),{},{conversation:a});case _e:return Object(o.a)(Object(o.a)({},e),{},{conversation:Te});case Ie:return Object(o.a)(Object(o.a)({},e),{},{tags:a});case Pe:var c=a.key,s=a.value,r=Object(o.a)({},e.conversation);return r[c]=s,Object(o.a)(Object(o.a)({},e),{},{conversation:r});case U:return Object(o.a)(Object(o.a)({},e),{},{spinner:!0});case D:return Object(o.a)(Object(o.a)({},e),{},{spinner:!1});default:return Object(o.a)({},e)}},Re="/conversations",De={getAllTags:function(e){return Oe.get("".concat(Re,"/tags?").concat(ie(e)))},getConversations:function(e){return Oe.get("".concat(Re,"?").concat(ie(e)))},getSingleConversations:function(e){return Oe.get("".concat(Re,"/single/").concat(e))},postConversation:function(e){return Oe.post(Re,Object(o.a)({},e))},putConversation:function(e){return Oe.put(Re,Object(o.a)({},e))},deleteConversation:function(e){return Oe.delete("".concat(Re,"/").concat(e))}},Ue=De,Ye=n(17),Be="SET_LANG",Le=function(e,t){var n=t.type,a=t.payload;return n===Be?Object(o.a)(Object(o.a)({},e),{},{lang:a}):Object(o.a)({},e)},Fe={es:{superfetch:{emptyInput:"Este valor no puede estar vacio",fileTypes:"Tipos de Archivo:",backEdit:"Regresar a Editar"},admin:{users:{delete:"Eliminar Cliente",generateLink:"Generar Link",sendEmail:"Enviar Correo",recoveryPass:"Reestablecer Contrase\xf1a",totalPurchases:"Compras Totales",edit:"Editar informaci\xf3n",customer:"Cliente",purchases:"Compras",invoices:"Cargos",all:"Todo",titleEdit:"Editar Cliente",titleAdd:"Agregar Cliente",addBtn:"Agregar",saveBtn:"Guardar",cancelBtn:"Cancelar",name:"Nombre",lastName:"Apellido",email:"Correo Electr\xf3nico",phone:"Tel\xe9fono",publicity:"\xbfC\xf3mo te enteraste de Tradealize?"}},purchases:{date:"Fecha",type:"Tipo",total:"Total",status:"Estado",product:"Producto",actions:"Acciones",customer:"Cliente",discount:"Descuento",expiration:"Expira en",empty:"No has hecho ninguna compra"},invoices:{date:"Fecha",type:"Tipo",total:"Total",status:"Estado",product:"Producto",actions:"Acciones",customer:"Cliente",next:"Siguiente en",discount:"Descuento",empty:"No has recibido ning\xfan cargo"},auth:{name:"Nombre",show:"Mostrar",hide:"Ocultar",company:"Compa\xf1\xeda",last_name:"Apellidos",email:"Correo electr\xf3nico",phone:"Tel\xe9fono M\xf3vil",password:"Contrase\xf1a",login:"Iniciar Sesi\xf3n",saved:"Usuario guardado",signup:"Crear una cuenta",deleted:"Usuario eliminado",forgot:"\xbfOlvidaste tu contrase\xf1a?",has_account:"\xbfYa tienes una cuenta?",no_account:"\xbfA\xfan no tienes una cuenta?",no_password:"Te hemos enviado un correo electr\xf3nico para reestablecer tu contrase\xf1a",confirm_password:"Confirmar contrase\xf1a",signup_reason:"\xbfC\xf3mo te enteraste de Tradealize?",signup_reasons:["Recomendaci\xf3n","Anuncio en Facebook","Anuncio en Instagram","Otro"],other_reason:"Cu\xe9ntanos",error:"Hubo un error con tu solicitud. Intenta de nuevo m\xe1s tarde.",reset_password:"Te hemos enviado un correo electr\xf3nico para reestablecer tu contrase\xf1a"},menu:{settings:"Ajustes",logout:"Salir"},outputs:{form:{defaultPrompt:"Escribe un tweet"},rated:"Resultado calificado.",saved:"Resultado guardado.",deleted:"Resultado eliminado.",generated:"Resultados en fila. Aparecer\xe1n en la pesta\xf1a de 'Resultados'"},messages:{deleted:"Mensaje eliminado"},form:{cancel:"Cancelar",confirm:"Guardar"},general:{words:"Palabras",unlimited:"Ilimitadas",favorites:"Mostrar solo favoritos",cancel:"Cancelar",confirm:"OK",copy:"Copiar al portapapeles",clipboard:"Copiado al portapapeles"},conversations:{add:"Agregar Estrategia",title:"Estrategias",button:"Agregar",saved:"Estrategia guardada",deleted:"Estrategia eliminada",search:"Buscar en las estrategias...",empty:"A\xfan no tienes estrategias"},conversation:{header:{edit:"Editar Estrategia"},max_messages:"No hay m\xe1s mensajes",continue_generating:"Continuar generando",form:{name:"Nombre"},message:{edit:"Editar Respuesta",save:"Guardar Respuesta",copy:"Copiar al portapapeles",pending:"Generando respuesta...",append_avatar:"Agregar a Avatar"},input:{placeholder:"Escribe una instrucci\xf3n",enhance:"Mejorar",send:"Enviar"}},workflows:{title:"Flujos",start:"Iniciar Flujo",saved:"Flujo guardado",deleted:"Flujo eliminado",empty:"No hay flujos disponibles."},user_workflows:{title:"Mis Flujos",saved:"Flujo guardado.",deleted:"Flujo eliminado."},trainings:{saved:"Entrenamiento guardado",synced:"Sincronizando entrenamiento. El entrenamiento puede tomar hasta 15 minutos.",refined:"Refinando entrenamiento. El entrenamiento puede tomar hasta 15 minutos.",executed:"Entrenamiento iniciado. El entrenamiento puede tomar hasta 15 minutos."},user_avatars:{title:"Mis Avatares"},avatars:{title:"Avatares",saved:"Avatar guardado",search:"Buscar avatares...",deleted:"Avatar eliminado",synced:"Avatar sincronizando. El entrenamiento puede tomar hasta 15 minutos.",combined:"Combinando Avatares. El entrenamiento puede tomar hasta 15 minutos."},avatar:{search:"Buscar contenido...",select:"Seleccionar",train:"Entrenar",import:"Importar",content:"Contenido",combine:"Combinar",details:"Detalles",selecting:"Seleccionando",trainings:{execute:"Entrenar",start:"Esto iniciar\xe1 un nuevo entrenamiento con este conjunto de datos y se har\xe1 un cargo a tu cuenta de OpenAI entre $20 y $100 USD dependiendo del tama\xf1o del conjunto de datos.",search:"Buscar entrenamientos...",title:"Entrenamientos",single:"Entrenamiento",sample_file:"Plantilla",empty:"You don't have any trainings.",card:{last_update:"\xdaltima Actualizaci\xf3n"}},outputs:{details:"Detalles",title:"Resultados",card:{details:"Mostrar detalles",delete:"Eliminar Resultado",edit:"Editar Resultado"}}}},en:{superfetch:{emptyInput:"This value can't be empty",fileTypes:"File types:",backEdit:"Back to Edit"},admin:{users:{delete:"Delete Customer",generateLink:"Generate Link",sendEmail:"Send Email",recoveryPass:"Recovery Password",totalPurchases:"Total Purchases",edit:"Edit Info",customer:"Customer",purchases:"Purchases",invoices:"Invoices",all:"All",titleEdit:"Edit Client",titleAdd:"Add Client",addBtn:"Add",editBtn:"Edit",saveBtn:"Save",cancelBtn:"Cancel",name:"Name",lastName:"Last Name",email:"Email",phone:"Phone Number",publicity:"How do you know about Tradealize?"}},purchases:{date:"Date",type:"Type",total:"Total",status:"Status",product:"Product",actions:"Actions",customer:"Customer",discount:"Discount",expiration:"Expires on",empty:"You haven't made any purchases"},invoices:{date:"Date",type:"Type",total:"Total",next:"Next on",status:"Status",product:"Product",actions:"Actions",customer:"Customer",discount:"Discount",empty:"You haven't received any invoices"},auth:{error:"There was an error with your request, please try again later.",reset_password:"We've sent you a password reset email.",signup_reasons:["Recommendations","Facebook Ad","Instagram Ad","Other"],other_reason:"Tell us more",signup_reason:"How did you find out about Tradelize?",no_account:"Don't have an account yet?",has_account:"Already have an account?",confirm_password:"Confirm password.",forgot:"Forgot password?",signup:"Create an Account",deleted:"User deleted",last_name:"Last Name",phone:"Mobile Phone",password:"Password",saved:"User saved",company:"Company",email:"Email",login:"Login",show:"Show",hide:"Hide",name:"Name"},menu:{settings:"Settings",logout:"Log Out"},form:{cancel:"Cancel",confirm:"Save"},messages:{deleted:"Message deleted."},outputs:{form:{defaultPrompt:"Write a tweet"},rated:"Output rated.",saved:"Output saved.",deleted:"Output deleted.",generated:"Outputs queued. They will appear under 'Outputs' tab."},general:{confirm:"OK",cancel:"Cancel",words:"Words",unlimited:"Unlimited",copy:"Copy to clipboard",clipboard:"Copied to clipboard",favorites:"Show favorites only"},topics:{title:"Trending Topics Generator"},hashtags:{title:"Hashtags Generator"},generator:{edit:"Edit",favorite:"Add to favorites",placeholder:"What is your product or service?"},conversations:{empty:"You don't have any strategies.",search:"Search in strategies...",deleted:"Strategy deleted.",saved:"Strategy saved.",archived:"Strategy archived.",add:"Add Strategy",title:"Strategies",button:"Add"},conversation:{header:{edit:"Edit Strategy"},max_messages:"No more messages",continue_generating:"Continue generating...",form:{name:"Name"},message:{share:"Share Message",edit:"Edit Message",save:"Save Message",copy:"Copy to clipboard",pending:"Working on this...",append_avatar:"Add to Avatar"},input:{send:"Send",enhance:"Enhance",placeholder:"Write an instruction",templates:{button:"Templates",title:"Templates",cancel:"Cancel"}}},workflows:{title:"Workflows",start:"Start Workflow",saved:"Workflow saved",deleted:"Workflow deleted",empty:"There are no workflows available."},user_workflows:{title:"My Workflows",saved:"Workflow saved.",deleted:"Workflow deleted."},trainings:{saved:"Training saved",synced:"Training syncing. It may take up to 15 minutes to complete a training.",refined:"Training refining. It may take up to 15 minutes to complete a training.",executed:"Training initiated. It may take up to 15 minutes to complete a training."},avatars:{title:"Avatars",saved:"Avatar saved.",search:"Search avatars...",deleted:"Avatar deleted.",synced:"Avatar synced. It may take up to 15 minutes to train a avatar.",combined:"Avatar combined. It may take up to 15 minutes to train a avatar."},user_avatars:{title:"My Avatars"},avatar:Object(f.a)({search:"Search for content...",select:"Select",outputs:"Outputs",train:"Train",import:"Import",content:"Content",combine:"Combine",details:"Details",selecting:"Selecting",trainings:{execute:"Train",title:"Trainings",single:"Training",sample_file:"Sample File",search:"Search trainings...",empty:"You don't have any trainings.",card:{last_update:"Last Updated"},start:"This will execute a training on this dataset and you will be billed to your OpenAI account between $20 to $60 USD depending on the size of your dataset."}},"outputs",{details:"Details",title:"Outputs",card:{details:"Show details",delete:"Delete Output",edit:"Edit Output"}})}},Ge=Fe,We={translations:Ge,lang:"en"},He=Object(a.createContext)(We),ze=function(e){var t=e.children,n=Object(a.useReducer)(Le,We),c=Object(l.a)(n,2),s=c[0],r=c[1];return Object(i.jsx)(He.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{setLang:function(e){e!=s.lang&&r({type:Be,payload:e})}}),children:t})},qe=function(){var e=Object(a.useContext)(He),t=e.lang,n=e.setLang,c=e.translations;Object(a.useEffect)((function(){"es"===t&&ae.a.locale("es",{monthsShort:"Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),weekdaysShort:"Dom_Lun_Mar_Mie_Jue_Vie_Sab".split("_"),weekdays:"Lun_Mar_Mie_Jue_Vie_Sab_Dom".split("_")})}),[t]);return Object(o.a)(Object(o.a)({},c[t]),{},{lang:t,setLang:n,formatDate:function(e){return"en"===t?ae()(e).utc().format("MMM DD YYYY"):ae()(e).utc().format("DD MMM YYYY")},formatDateTime:function(e){return"en"===t?ae()(e).utc().format("MMM DD YYYY HH:mm"):ae()(e).utc().format("DD MMM YYYY HH:mm")}})},Ze={conversations:null,conversation:null,spinner:!1},Qe=Object(a.createContext)(Ze),Ve=n(19),Je="SET_PROMPT",Ke="SET_MESSAGE",Xe="SAVE_MESSAGE",$e="SET_GENERATING",et="APPEND_MESSAGE",tt="CREATE_MESSAGE",nt="CLEAR_MESSAGES",at="MESSAGES_RECEIVED",ct="SET_PROPERTY_MESSAGE",st="SET_PROPERTY_MESSAGE_PLURAL",rt={message_id:"",name:""},it=function(e,t){var n=t.type,a=t.payload;switch(n){case Je:return Object(o.a)(Object(o.a)({},e),{},{prompt:a});case U:return Object(o.a)(Object(o.a)({},e),{},{spinner:!0});case D:return Object(o.a)(Object(o.a)({},e),{},{spinner:!1});case $e:return Object(o.a)(Object(o.a)({},e),{},{generating:a});case nt:return Object(o.a)(Object(o.a)({},e),{},{messages:null});case Xe:return Object(o.a)(Object(o.a)({},e),{},{message_id:a});case et:if(e.enhancing||e.enhanced&&null!==e.enhanced)return Object(o.a)(Object(o.a)({},e),{},{enhanced:a.content,enhancing:!1});var c=e.messages,s=void 0!==(c=Array.isArray(c)?Object(Ve.a)(c):[]).find((function(e){return parseInt(e.message_id)===parseInt(a.message_id)}));if(s)return Object(o.a)(Object(o.a)({},e),{},{messages:c,enhancing:!1,enhanced:null});var r=Object(o.a)({},e.conversation);return r&&null!==r&&parseInt(a.conversation_id)!==parseInt(r.conversation_id)&&!isNaN(parseInt(r.conversation_id))?Object(o.a)(Object(o.a)({},e),{},{messages:c,enhancing:!1,enhanced:null}):(c.push(a),c=c.sort((function(e,t){return ae()(e.createdAt).isAfter(ae()(t.createdAt))?1:-1})),Object(o.a)(Object(o.a)({},e),{},{messages:c,enhanced:null,enhancing:!1}));case Se:return Object(o.a)(Object(o.a)({},e),{},{conversation:a});case at:var i=e.messages;i=Array.isArray(i)?Object(Ve.a)(i):[],i=[].concat(Object(Ve.a)(a.messages),Object(Ve.a)(i));var l=new Set;i.forEach((function(e){var t=e.message_id;return l.add(t)}));var d=[];return l.forEach((function(e){var t=i.find((function(t){return t.message_id===e}));t&&d.push(t)})),i=d.sort((function(e,t){return ae()(e.createdAt).isAfter(t.createdAt)?1:-1})),Object(o.a)(Object(o.a)({},e),{},{messages:i,max:a.max});case Ke:return Object(o.a)(Object(o.a)({},e),{},{message:a});case"SET_THREAD_MESSAGES":return Object(o.a)(Object(o.a)({},e),{},{threadMessages:a});case tt:return Object(o.a)(Object(o.a)({},e),{},{message:rt});case ct:var u=a.key,b=a.value,j=Object(o.a)({},e.message);return j[u]=b,Object(o.a)(Object(o.a)({},e),{},{message:j});case st:var m=a.message_id,h=a.key,p=a.value,O=e.messages,f=(O=Array.isArray(O)?Object(Ve.a)(O):[]).findIndex((function(e){return parseInt(e.message_id)===parseInt(m)}));return-1!==f&&(null===O[f][h]?O[f][h]=p:O[f][h]+=p),Object(o.a)(Object(o.a)({},e),{},{messages:O});default:return Object(o.a)({},e)}},ot="/messages",lt={getMessages:function(e){return Oe.get("".concat(ot,"?").concat(ie(e)))},getConversationMessages:function(e,t){return Oe.get("".concat(ot,"/conversation/").concat(e,"?").concat(ie(t)))},getThreadMessages:function(e){return Oe.get("".concat(ot,"/thread/").concat(e))},postMessage:function(e){return Oe.post(ot,Object(o.a)({},e))},putMessage:function(e){return Oe.put(ot,Object(o.a)({},e))},deleteMessage:function(e){return Oe.delete("".concat(ot,"/").concat(e))},shareMessage:function(e){return Oe.post("".concat(ot,"/share/"),Object(o.a)({},e))}},dt=lt,ut="/files",bt={getFile:function(){return Oe.get(ut)},getFormData:function(e){var t=new FormData;return t.append("file",e),t},postFile:function(e){return Oe.post(ut,e,{headers:{"Content-Type":"multipart/form-data"}})},putFile:function(e,t){return Oe.put("".concat(ut,"/").concat(e),t,{headers:{"Content-Type":"multipart/form-data"}})},postFileData:function(e){return Oe.post(ut,Object(o.a)({},e))}},jt=bt,mt={conversation:null,generating:!1,runingThread:!1,enhancing:!1,message_id:null,spinner:!1,messages:null,message:null,prompt:"",max:null,threadMessages:[]},ht=Object(a.createContext)(mt),pt=function(e,t){var n=t.type,a=t.payload;switch(n){case Y:return Object(o.a)(Object(o.a)({},e),{},{paquete:a,product:a});case G:return Object(o.a)(Object(o.a)({},e),{},{descuento:a,discount:a,spinnerDescuento:!1});case B:return Object(o.a)(Object(o.a)({},e),{},{payment_source_id:a});case F:return Object(o.a)(Object(o.a)({},e),{},{discountCode:a});case U:return Object(o.a)(Object(o.a)({},e),{},{spinner:!0});case D:return Object(o.a)(Object(o.a)({},e),{},{spinner:!1});case W:return Object(o.a)(Object(o.a)({},e),{},{spinnerDescuento:!0});case H:return Object(o.a)(Object(o.a)({},e),{},{spinnerDescuento:!1});default:return Object(o.a)({},e)}},Ot="/checkout",ft={postCheckout:function(e){return Oe.post("".concat(Ot,"/attempt"),Object(o.a)({},e))},capturePayPal:function(e){return Oe.post("".concat(Ot,"/capture"),Object(o.a)({},e))}},xt=ft,vt="/products",gt=function(){return Oe.get("".concat(vt,"/available"))},yt=function(){return Oe.get(vt)},Nt=function(e){return Oe.get("".concat(vt,"/").concat(e))},At="/discounts",Ct=function(e,t){return Oe.get("".concat(At,"/code/").concat(e,"?product_id=").concat(t))},wt="https://www.paypal.com/sdk/js?client-id=".concat("AdZEW5Ru6MrKRVBoQ_8KPIUPB_832eOzEOpMOKY4VoDI8qh-7NqLqF-NNiF4DZeymBUaDynLVs0Mu6ao","&vault=true&intent=subscription"),Et=function(e){var t=document.getElementById(e);""!==t.innerHTML&&(t.innerHTML="")},St=function(e){var t=document.getElementById(e);null!==t&&t.remove()},_t={paquete:null,discountCode:"",product:null,payment_source_id:"card"},kt=Object(a.createContext)(_t),Pt={invoice_id:"nuevo",purchase_id:null,status:"pending",user_id:null,amount:0,payment_method_id:null},It=function(e,t){var n=t.type,a=t.payload;switch(n){case"CLEAR_INVOICES":return Object(o.a)(Object(o.a)({},e),{},{invoices:null});case Q:return Object(o.a)(Object(o.a)({},e),{},{invoice:a});case Z:return Object(o.a)(Object(o.a)({},e),{},{invoice:Pt});case U:return Object(o.a)(Object(o.a)({},e),{},{spinner:!0});case D:return Object(o.a)(Object(o.a)({},e),{},{spinner:!1});case q:var c=a.key,s=a.value,r=Object(o.a)({},e.invoice);return r[c]=s,Object(o.a)(Object(o.a)({},e),{},{invoice:r});case"INVOICES_RECEIVED":return Object(o.a)(Object(o.a)({},e),{},{invoices:a});case U:return Object(o.a)(Object(o.a)({},e),{},{spinner:!0});case D:return Object(o.a)(Object(o.a)({},e),{},{spinner:!1});default:return Object(o.a)({},e)}},Tt="/invoices",Mt={getInvoices:function(e){return Oe.get("".concat(Tt,"/admin?").concat(ie(e)))},postInvoice:function(e){return Oe.post("".concat(Tt,"/admin"),Object(o.a)({},e))},putInvoice:function(e){return Oe.put("".concat(Tt,"/admin"),Object(o.a)({},e))}},Rt="/users",Dt={getCurrentUser:function(){return Oe.get(Rt)},getUserByPhone:function(e){return Oe.get("".concat(Rt,"/phone?phone=").concat(e))},getAllUsers:function(e){return Oe.get("".concat(Rt,"/admin/all?").concat(ie(e)))},getSingleUser:function(e){return Oe.get("".concat(Rt,"/").concat(e,"/admin"))},postSignUp:function(e){return Oe.post(Rt,Object(o.a)({},e))},updateCurrentUser:function(e){return Oe.put(Rt,Object(o.a)({},e))},recoverPassword:function(e){return Oe.post("".concat(Rt,"/recover"),{email:e})},deleteCurrentUser:function(){return Oe.delete(Rt)},deleteUser:function(e){return Oe.delete("".concat(Rt,"/").concat(e))}},Ut=Dt,Yt=n(4),Bt=n(8),Lt=function(e,t){var n=t.type,a=t.payload;switch(n){case x:return Object(o.a)(Object(o.a)({},e),{},{user:a,spinner:!1,refresh:!1});case v:return Object(o.a)(Object(o.a)({},e),{},{user:null});case U:return Object(o.a)(Object(o.a)({},e),{},{spinner:!0});case D:return Object(o.a)(Object(o.a)({},e),{},{spinner:!1});case"USER_CREATED":return Object(o.a)(Object(o.a)({},e),{},{created:!0});case M:return Object(o.a)(Object(o.a)({},e),{},{error:a});case"SET_PROFILE":return Object(o.a)(Object(o.a)({},e),{},{profile:a});case y:return Object(o.a)(Object(o.a)({},e),{},{phoneExists:a});case"NOT_AUTH_PROVIDER":return Object(o.a)(Object(o.a)({},e),{},{notAuthProvider:!0});case C:return Object(o.a)(Object(o.a)({},e),{},{phoneExists:null,notAuthProvider:null,confirmationResult:null});case A:var c=a.key,s=a.value,r=Object(o.a)({},e.user);return r[c]=s,Object(o.a)(Object(o.a)({},e),{},{user:r});case"SET_PROPIEDAD_LOGIN":var i=a.key,l=a.value;return Object(o.a)(Object(o.a)({},e),{},Object(f.a)({},i,l));case"SET_USER_DATA":return Object(o.a)(Object(o.a)({},e),{},{user_data:a});case"SET_PROPERTY_USER_DATA":var d=Object(o.a)({},e.user_data),u=a.key,b=a.value;return d[u]=b,Object(o.a)(Object(o.a)({},e),{},{user_data:d});case"SET_PROPERTY_PROFILE":var j=Object(o.a)({},e.profile),m=a.key,h=a.value;return j[m]=h,Object(o.a)(Object(o.a)({},e),{},{profile:j});case"SET_OCCUPATION":return Object(o.a)(Object(o.a)({},e),{},{occupation:a});case"SET_PROPERTY_OCCUPATION":var p=Object(o.a)({},e.occupation),O=a.key,N=a.value;return p[O]=N,Object(o.a)(Object(o.a)({},e),{},{occupation:p});case w:return Object(o.a)(Object(o.a)({},e),{},{confirmationResult:a});case g:return Object(o.a)(Object(o.a)({},e),{},{refresh:!0});default:return Object(o.a)({},e)}},Ft="SET_CONFIG",Gt="SET_SINGLE_CONFIG",Wt=function(e,t){var n=t.type,a=t.payload;switch(n){case Gt:var c=a.key,s=a.value;return Object(o.a)(Object(o.a)({},e),{},Object(f.a)({},c,s));case Ft:var r={};if(Array.isArray(a))if(a.forEach((function(e){var t=e.key,n=e.value;"firebaseConfig"===t&&(n=JSON.parse(n)),r[t]=n})),!r.S3_ENDPOINT){var i="https://".concat(r.bucket,".s3.").concat(r.region,".amazonaws.com");r.S3_ENDPOINT=i}return Object(o.a)(Object(o.a)({},e),r);default:return Object(o.a)({},e)}},Ht="/appconfig",zt={getAppConfig:function(){return Oe.get(Ht)},putAppconfig:function(e,t){return Oe.put(Ht,{key:e,value:t})}},qt=zt,Zt={},Qt=Object(a.createContext)(Zt),Vt=function(e){var t=e.children,n=Object(a.useReducer)(Wt,Zt),c=Object(l.a)(n,2),s=c[0],r=c[1],d=function(){var e=Object(Bt.a)(Object(Yt.a)().mark((function e(t,n){return Object(Yt.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qt.putAppconfig(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(i.jsx)(Qt.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{getAppConfig:function(){qt.getAppConfig().then((function(e){var t=e.data.config;r({type:Ft,payload:t})}))},setAppConfig:function(e,t){r({type:Gt,payload:{key:e,value:t}})},saveAppConfig:d}),children:t})},Jt=n(53),Kt=(n(138),function(e){e=JSON.parse(e),Jt.a.apps.length<1&&Jt.a.initializeApp(e);var t=function(){return n.currentUser.getIdToken(!0)},n=Jt.a.auth();return{signIn:function(e,n){return Jt.a.auth().signInWithEmailAndPassword(e,n).then((function(e){return t().then((function(t){return Oe.defaults.headers.common.Authorization=t,e}))})).catch((function(e){return function(e){throw e}(e)}))},userLoggedIn:function(e,a){return n.onAuthStateChanged((function(n){if(n){var c=function(){t().then((function(t){Oe.defaults.headers.common.Authorization=t,e&&e(n)}))};setInterval(c,33e5),c()}else a()}))},signOut:function(){return n.signOut()},signUp:function(e,t){return n.createUserWithEmailAndPassword(e,t)},recoverPassword:function(e){return n.sendPasswordResetEmail(e)},getToken:function(){return n.currentUser.getIdToken(!0)},updateEmail:function(e){return n.currentUser.updateEmail(e)},getRecaptchaVerifier:function(e,t){return new Jt.a.auth.RecaptchaVerifier(e,{size:"invisible",callback:t})},signInWithPhoneNumber:function(e,t){return n.signInWithPhoneNumber(e,t)},handleToken:function(){return t().then((function(e){Oe.defaults.headers.common.Authorization=e}))},linkPhoneNumber:function(e){return n.currentUser.linkWithPhoneNumber(e)},setToken:function(e){return Oe.defaults.headers.common.Authorization=e},setupInterceptors:function(e){Oe.interceptors.response.use((function(e){return e}),(function(t){var n=t.config,a=t.message;return n&&n.retry&&(a.includes("timeout")||a.includes("Network Error"))?(n.retry-=1,t.response.data&&t.response.data.code&&"auth/id-token-expired"===t.response.data.code?e(t.response.data):Promise.reject(t)):Promise.reject(t)}))}}}),Xt={user:null,cuenta:null,correo:null,refresh:!1,spinner:!1,password:null,telefono:null,user_data:null,direccion:null,phoneExists:null,notAuthProvider:null,confirmationResult:null,linkedPlatforms:[{name:"gmail",title:"Gmail",icon:"https://www.vectorlogo.zone/logos/gmail/gmail-icon.svg"},{name:"facebook",title:"Facebook",icon:"https://www.vectorlogo.zone/logos/facebook/facebook-tile.svg"}]},$t=Object(a.createContext)(Xt),en=function(e){var t=e.children,n=Object(a.useReducer)(Lt,Xt),c=Object(l.a)(n,2),s=c[0],r=c[1],d=Object(a.useContext)(Qt).firebaseConfig,u=Object(a.useContext)(Ae),b=u.success,j=u.alert,m=Kt(d),h=qe();function p(){r({type:g})}function O(e,t,n){r({type:U}),m.signIn(e,t).then((function(e){e?(E(),"function"===typeof n&&n()):(j("Email or password is incorrect, please try again."),r({type:D}),m.signOut())})).catch((function(e){r({type:D}),j(e)}))}function f(){m.signOut().then((function(){window.localStorage.clear(),r({type:v}),Object(Ye.c)("/")})).catch((function(e){j(e)}))}function N(){return(N=Object(Bt.a)(Object(Yt.a)().mark((function e(t,n,a,c,s){return Object(Yt.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r({type:U}),t&&""!==t){e.next=3;break}return e.abrupt("return",j("Ingresa tu nombre"));case 3:if(a&&""!==a){e.next=5;break}return e.abrupt("return",j("Ingresa tu correo"));case 5:if(s&&""!==s){e.next=7;break}return e.abrupt("return",j("Ingresa tu telefono"));case 7:m.signUp(a,c).then((function(e){var r=e.user.uid;Ut.postSignUp({name:t,email:a,phone:s,last_name:n,uid:r}).then((function(){O(a,c)}))})).catch((function(e){return r({type:D}),e.response&&412===e.response.status||"EMAIL_EXISTS"===e.message?j("You already have an account, please login."):void j(e.toString())}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){Ut.getCurrentUser().then((function(e){var t=e.data.user;r({type:x,payload:t}),m.setupInterceptors(p)})).catch(f)}return Object(i.jsx)($t.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{signIn:O,signUp:function(e,t,n,a,c){return N.apply(this,arguments)},signOut:f,updateUser:function(e,t,n){var a=[],c=Object(o.a)({},e);if(delete c.purchases,c.picture&&null!==c.picture&&c.picture.name){var s=new Promise((function(e,t){var n=new FormData;n.append("file",c.picture),jt.postFile(n).then((function(t){var n=t.data.file_id;c.file_id=n,e()}))}));a.push(s)}Promise.all(a).then((function(){delete c.file,delete c.uid,delete c.activo,c.birthday=ae()(c.birthday).format("YYYY-MM-DD"),Ut.updateCurrentUser(c).then((function(){if(E(),("boolean"===typeof n&&!n||void 0===n)&&b(h.auth.saved),"function"===typeof t)return t()})).catch((function(e){j(e)}))}))},cancelEdit:function(){r({type:"GUARDAR_USUARIO"})},signUpPhone:function(e,t,n){Ut.postSignUp({name:e,phone:t,uid:n}).then((function(){m.handleToken().then((function(){E()}))}))},signInPhone:function(){m.handleToken().then((function(){E()}))},userLoggedIn:function(){r({type:U}),m.userLoggedIn(E,(function(e){e&&(j(e),m.signOut()),r({type:D})}))},editarUsuario:function(){r({type:"EDITAR_USUARIO"})},linkUserPhone:function(e){m.linkPhoneNumber(e)},getCurrentUser:E,deleteCustomer:function(){r({type:U}),Ut.deleteCurrentUser().then((function(){r({type:D}),b(h.auth.deleted),m.signOut(),Object(Ye.c)("/"),le()})).catch((function(e){r({type:D}),j(e)}))},recoverPassword:function(e){m.recoverPassword(e).then((function(){b(h.auth.reset_password)})).catch((function(t){"auth/user-not-found"===t.code?Ut.recoverPassword(e).then((function(){b(h.auth.reset_password)})):j(h.auth.error)}))},setPropertyUser:function(e,t){"idFile"===e?(r({type:A,payload:{key:"file",value:t}}),t||r({type:A,payload:{key:e,value:t}})):("telefono"===e&&(t=String(t).replace(/\D/g,""),t=String(t).substring(0,10)),r({type:A,payload:{key:e,value:t}}))},phoneNumberExists:function(e){Ut.getUserByPhone(e).then((function(){r({type:y,payload:!0})})).catch((function(){j("We're sorry, we couldn't find an account with that number."),r({type:y,payload:!1})}))},resetAuthProvider:function(){r({type:C})},signInWithPhoneNumber:function(e,t){r({type:U}),m.signInWithPhoneNumber(e,t).then((function(e){r({type:w,payload:e}),r({type:D})})).catch((function(e){j(e),r({type:D})}))}}),children:t})},tn={customers:[],customer:{}},nn=Object(a.createContext)(tn),an={invoices:[],invoice:null},cn=Object(a.createContext)(an),sn="TUTORIALS_RECEIVED",rn="SET_SINGLE_TUTORIAL",on=function(e,t){var n=t.type,a=t.payload;switch(n){case sn:return Object(o.a)(Object(o.a)({},e),{},{tutorials:a});case rn:return Object(o.a)(Object(o.a)({},e),{},{tutorial:a});default:return Object(o.a)({},e)}},ln="/tutorials",dn={getTutorials:function(){return Oe.get(ln)},getSingleTutorial:function(e){return Oe.get("".concat(ln,"/").concat(e))}},un=dn,bn={tutorials:null,tutorial:null},jn=Object(a.createContext)(bn),mn="PRODUCTS_RECEIVED",hn="SET_PRODUCT",pn=function(e,t){var n=t.type,a=t.payload;switch(n){case mn:return Object(o.a)(Object(o.a)({},e),{},{products:a});case hn:return Object(o.a)(Object(o.a)({},e),{},{product:a});default:return Object(o.a)({},e)}},On={products:null,product:null},fn=Object(a.createContext)(On),xn="INSCRITOS_RECIBIDOS",vn="INGRESOS_RECIBIDOS",gn="PRODUCTOS_PURCHASES_RECIBIDOS",yn=function(e,t){var n=t.type,a=t.payload;switch(n){case xn:case gn:case vn:return Object(o.a)(Object(o.a)({},e),a);default:return Object(o.a)({},e)}},Nn="/analytics",An={getWords:function(e,t){return Oe.get("".concat(Nn,"/words?start_date=").concat(e,"&end_date=").concat(t))},getInscritos:function(e,t){return Oe.get("".concat(Nn,"/customers?start_date=").concat(e,"&end_date=").concat(t))},getPurchases:function(e,t){return Oe.get("".concat(Nn,"/purchases?start_date=").concat(e,"&end_date=").concat(t))},getIngresos:function(e,t){return Oe.get("".concat(Nn,"/income?start_date=").concat(e,"&end_date=").concat(t))},getInstructores:function(e,t){return Oe.get("".concat(Nn,"/instructors?start_date=").concat(e,"&end_date=").concat(t))},getMensuales:function(e,t){return Oe.get("".concat(Nn,"/monthly?start_date=").concat(e,"&end_date=").concat(t))},getReservaciones:function(e,t){return Oe.get("".concat(Nn,"/reservations?start_date=").concat(e,"&end_date=").concat(t))},getReporte:function(e,t){return Oe.get("".concat(Nn,"/instructors/report?start_date=").concat(e,"&end_date=").concat(t),{responseType:"blob"})},getFreeTrials:function(e,t){return Oe.get("".concat(Nn,"/free_trials?start_date=").concat(e,"&end_date=").concat(t))},getVideos:function(e,t){return Oe.get("".concat(Nn,"/videos?start_date=").concat(e,"&end_date=").concat(t))}},Cn=An,wn={cancelled:[],customers:[],signups:[]},En=Object(a.createContext)(wn),Sn="SET_SELECTED",_n="TOGGLE_SETTINGS",kn=function(e,t){var n=t.type,a=t.payload;switch(n){case"SELECT_TABS":return Object(o.a)(Object(o.a)({},e),{},{tabs:a});case Sn:return Object(o.a)(Object(o.a)({},e),{},{selected:a});case _n:return Object(o.a)(Object(o.a)({},e),{},{showSettings:!e.showSettings});default:return Object(o.a)({},e)}},Pn=Object(a.createContext)(),In=n(94),Tn="PURCHASES_RECIBIDAS",Mn="SET_PROPERTY_PURCHASE",Rn="SET_PAYMENT_NEEDED",Dn="INVOICES_RECIBIDOS",Un="SET_PURCHASE",Yn="SET_INVOICE",Bn=function(e,t){var n=t.type,a=t.payload;switch(n){case Rn:return Object(o.a)(Object(o.a)({},e),{},{payment_needed:a});case Tn:return Object(o.a)(Object(o.a)({},e),{},{purchases:a});case Mn:var c=Object(o.a)({},e.purchase),s=a.key,r=a.value;return c[s]=r,Object(o.a)(Object(o.a)({},e),{},{purchase:c});case Un:return Object(o.a)(Object(o.a)({},e),{},{purchase:a});case Yn:return Object(o.a)(Object(o.a)({},e),{},{invoice:a});case Dn:return Object(o.a)(Object(o.a)({},e),{},{invoices:a});case U:return Object(o.a)(Object(o.a)({},e),{},{spinner:!0});case D:return Object(o.a)(Object(o.a)({},e),{},{spinner:!1});default:return Object(o.a)({},e)}},Ln="/purchases",Fn={postPurchase:function(e){return Oe.post("".concat(Ln,"/admin"),{purchase_data:e})},getPurchases:function(){return Oe.get(Ln)},getPurchasesAdmin:function(e){return Oe.get("".concat(Ln,"/admin?").concat(ie(e)))},getSinglePurchase:function(e){return Oe.get("".concat(Ln,"/").concat(e))},updatePurchase:function(e){return Oe.put("".concat(Ln,"/admin"),Object(o.a)({},e))},getPurchase:function(e){return Oe.get("".concat(Ln,"/").concat(e))},cancelSubscription:function(e,t){return Oe.post("".concat(Ln,"/cancel/").concat(e),{cancel_reason:t,status:"cancelled"})}},Gn=Fn,Wn={payment_needed:!1,purchases:[],purchase:null,invoices:null},Hn=Object(a.createContext)(Wn),zn=function(e,t){document.documentElement.style.setProperty("--".concat(e),t),document.documentElement.style.setProperty("--ion-color-".concat(e),t)},qn=(n(140),function(e){var t=e.title,n=e.setLogin,c=e.handleCallback,s=Object(a.useState)(""),r=Object(l.a)(s,2),o=r[0],d=r[1],u=Object(a.useState)(""),b=Object(l.a)(u,2),j=b[0],m=b[1],h=Object(a.useContext)(Qt),p=h.landing_bg_className,O=h.landing_text_className,f=Object(a.useContext)($t),x=f.user,v=f.spinner,g=f.signIn,y=f.reattempt,N=Object(a.useState)(!1),A=Object(l.a)(N,2),C=A[0],w=A[1],E=qe();Object(a.useEffect)((function(){return function(){d(""),m("")}}),[]),Object(a.useEffect)((function(){y&&""!==o&&""!==j&&g(o,j,c)}),[y]);return Object(i.jsxs)("div",{id:"login-card",children:[Object(i.jsx)("h2",{className:"text-center text-gradient mb-3",children:t&&null!==t?t:E.auth.login}),Object(i.jsxs)("div",{className:"card text-left shadow p-4 ".concat(p," ").concat(O),children:[Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(o,j,c)},children:[Object(i.jsx)("label",{className:"".concat(O),children:E.auth.email}),Object(i.jsx)("input",{type:"email",className:"form-control mb-3",value:o,onChange:function(e){return d(e.target.value)}}),Object(i.jsxs)("label",{className:"".concat(O),children:[E.auth.password," ",Object(i.jsx)("button",{className:"btn btn-link text-muted text-left text-small py-0 mb-1",type:"button",onClick:function(e){e.preventDefault(),w(!C)},children:Object(i.jsx)("span",{className:"text-montserrat text-small text-auto",children:C?E.auth.hide:E.auth.show})})]}),Object(i.jsx)("input",{type:C?"text":"password",className:"form-control mb-3",value:j,onChange:function(e){return m(e.target.value)}}),Object(i.jsx)(Ye.a,{to:"/auth/recovery",children:E.auth.forgot}),Object(i.jsx)("button",{type:"submit",className:"btn btn-primary w-100 my-3",children:v?Object(i.jsx)("div",{className:"spinner-border"}):E.auth.login})]}),function(){if(!x||null===x)return Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"text-center mb-0 mt-3 ".concat(O),children:E.auth.no_account}),"function"===typeof n?Object(i.jsx)("button",{onClick:n,className:"btn btn-link w-100",children:E.auth.signup}):Object(i.jsx)(Ye.a,{to:"/auth/signup",className:"btn btn-link w-100",children:E.auth.signup})]})}()]})]})}),Zn=function(e){var t=e.isHome;return Object(i.jsx)("div",{className:"container-fluid mt-3",children:Object(i.jsx)(qn,{isHome:t})})},Qn=function(e){var t=e.setLogin,n=Object(a.useState)(""),c=Object(l.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)(""),d=Object(l.a)(o,2),u=d[0],b=d[1],j=Object(a.useState)(""),m=Object(l.a)(j,2),h=m[0],p=m[1],O=Object(a.useState)(""),f=Object(l.a)(O,2),x=f[0],v=f[1],g=Object(a.useState)(""),y=Object(l.a)(g,2),N=y[0],A=y[1],C=Object(a.useState)(""),w=Object(l.a)(C,2),E=w[0],S=w[1],_=Object(a.useState)(""),k=Object(l.a)(_,2),P=k[0],I=k[1],T=Object(a.useState)("Recomendaci\xf3n"),M=Object(l.a)(T,2),R=M[0],D=M[1],U=Object(a.useState)(""),Y=Object(l.a)(U,2),B=Y[0],L=Y[1],F=Object(a.useContext)($t),G=F.spinner,W=F.signUp,H=Object(a.useContext)(Qt),z=H.landing_bg_className,q=H.landing_text_className,Z=qe();return Object(i.jsxs)("div",{id:"login-card",children:[Object(i.jsx)("h2",{className:"text-center text-gradient mb-3",children:Z.auth.signup}),Object(i.jsxs)("div",{className:"card text-left shadow-sm p-4 ".concat(z," ").concat(q),children:[Object(i.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),""===u?alert("Name is invalid."):""===E?alert("Last name is invalid."):function(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}(s)?String(N).length<6?alert("Password must be 6 characters long."):/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im.test(h)?void W(u,E,s,N,h,"Other"===R||"Otro"===R?B:R):alert("Phone number is invalid."):alert("Email is invalid.")},children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-6 ps-0",children:[Object(i.jsx)("label",{className:q,children:Z.auth.name}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",value:u,onChange:function(e){return b(e.target.value)}})]}),Object(i.jsxs)("div",{className:"col-6 pe-0",children:[Object(i.jsx)("label",{className:q,children:Z.auth.last_name}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",value:E,onChange:function(e){return S(e.target.value)}})]})]}),Object(i.jsx)("label",{className:q,children:Z.auth.company}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",value:x,onChange:function(e){return v(e.target.value)}}),Object(i.jsx)("label",{className:q,children:Z.auth.email}),Object(i.jsx)("input",{type:"email",className:"form-control mb-3",value:s,onChange:function(e){return r(e.target.value)}}),Object(i.jsx)("label",{className:q,children:Z.auth.password}),Object(i.jsx)("input",{type:"password",className:"form-control mb-3",value:N,onChange:function(e){return A(e.target.value)}}),Object(i.jsx)("label",{className:q,children:Z.auth.confirm_password}),Object(i.jsx)("input",{type:"password",className:"form-control mb-3",value:P,onChange:function(e){return I(e.target.value)}}),Object(i.jsx)("label",{className:q,children:Z.auth.phone}),Object(i.jsx)("input",{type:"tel",className:"form-control mb-3",value:h,onChange:function(e){return p(e.target.value)}}),Object(i.jsx)("label",{className:q,children:Z.auth.signup_reason}),Object(i.jsx)("select",{className:"form-control mb-3",value:R,onChange:function(e){return D(e.target.value)},children:Z.auth.signup_reasons.map((function(e){return Object(i.jsx)("option",{value:e,children:e})}))}),function(){if("Other"===R||"Otro"===R)return Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{className:q,children:Z.auth.other_reason}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",value:B,onChange:function(e){return L(e.target.value)}})]})}(),Object(i.jsx)("button",{type:"submit",className:"btn btn-primary w-100 mb-3",children:G?Object(i.jsx)("div",{className:"spinner-border"}):Z.auth.signup})]}),Object(i.jsx)("p",{className:"mb-0 mt-3 text-center ".concat(q),children:Z.auth.has_account}),"function"===typeof t?Object(i.jsx)("button",{onClick:t,className:"btn btn-link w-100",children:Z.auth.login}):Object(i.jsx)(Ye.a,{to:"/auth",className:"btn btn-link w-100",children:Z.auth.login})]})]})},Vn=function(e){var t=e.isHome,n=Object(a.useContext)($t).user;return Object(a.useEffect)((function(){null!==n&&Object(Ye.c)("/")}),[n]),Object(i.jsx)("div",{className:"container-fluid mt-3",children:Object(i.jsx)(Qn,{isHome:t})})},Jn=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useContext)($t).recoverPassword;return Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)("h1",{className:"text-white text-center",children:"Reset Your Password"}),Object(i.jsx)("form",{onSubmit:function(e){e.preventDefault(),s(n)},children:Object(i.jsxs)("div",{className:"card p-4",children:[Object(i.jsx)("label",{className:"d-block mb-2",children:"Email"}),Object(i.jsxs)("div",{className:"input-group",children:[Object(i.jsx)("span",{className:"input-group-text",id:"email-addon",children:Object(i.jsx)("i",{className:"fa fa-envelope text-primary"})}),Object(i.jsx)("input",{type:"text",placeholder:"Email",className:"form-control","alia-aria-describedby":"email-addon",onChange:function(e){return c(e.target.value)}})]}),Object(i.jsx)("div",{className:"container-fluid px-0",children:Object(i.jsx)("button",{className:"btn btn-primary w-100 d-block m-auto my-4",children:"Send Reset Link"})}),Object(i.jsx)("div",{className:"container-fluid px-0",children:Object(i.jsx)(Ye.a,{to:"/auth",className:"text-accent h6 text-center d-block w-100",children:"Remembered password?"})})]})})]})},Kn=function(){var e=Object(a.useContext)(Qt).landing_bg_className;return Object(i.jsx)("div",{id:"particles-container",className:"container-fluid px-0 ".concat(e),style:{overflow:"hidden"},children:Object(i.jsx)("div",{className:"auth container px-0",children:Object(i.jsxs)(Ye.b,{children:[Object(i.jsx)(Zn,{path:"/login",isHome:!0,default:!0}),Object(i.jsx)(Vn,{path:"/signup",isHome:!0}),Object(i.jsx)(Jn,{path:"/recovery",isHome:!0})]})})})},Xn=function(){return Object(i.jsx)("div",{className:"container-fluid py-4",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"card p-3 shadow d-block m-auto",style:{maxWidth:600},children:[Object(i.jsx)("h1",{children:"Oops! You're out of credits."}),Object(i.jsx)("h3",{children:"You need an active subscription to Tradealize"}),Object(i.jsx)(Ye.a,{to:"/pricing",className:"btn btn-primary mb-3 w-100",children:"Get Access Now!"}),Object(i.jsx)(Ye.a,{to:"/",className:"btn text-muted w-100",children:"Return to Home"})]})})})},$n=function(e){var t=e.children,n=Object(a.useContext)($t).signOut;return Object(i.jsx)("div",{className:"container py-5",children:Object(i.jsxs)("div",{className:"card mw-500 m-auto p-3 shadow",children:[Object(i.jsx)("h1",{className:"text-center",children:"You're out of credits"}),t,Object(i.jsx)("p",{children:"Click the button to see pricing options."}),Object(i.jsx)(Ye.a,{to:"/pricing",className:"btn btn-primary",children:"See Pricing"}),Object(i.jsx)("img",{src:"data:image/png;base64,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",alt:"payment icons",style:{maxWidth:250},className:"w-100 d-block m-auto my-3"}),Object(i.jsx)("button",{onClick:n,className:"btn text-muted m-auto d-block my-3",children:"Log Out"})]})})},ea=function(e){var t=e.user;return Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsxs)("div",{className:"row pb-3 border-bottom",children:[Object(i.jsx)("div",{className:"col-4 ps-0",children:"Name"}),Object(i.jsxs)("div",{className:"col-8 pe-0 text-end text-muted",children:[t.name," ",t.last_name]})]}),Object(i.jsxs)("div",{className:"row py-3 border-bottom",children:[Object(i.jsx)("div",{className:"col-4 ps-0",children:"Email"}),Object(i.jsx)("div",{className:"col-8 pe-0 text-end text-muted small",children:t.email})]}),Object(i.jsxs)("div",{className:"row py-3 border-bottom",children:[Object(i.jsx)("div",{className:"col-4 ps-0",children:"Company"}),Object(i.jsx)("div",{className:"col-8 pe-0 text-end text-muted small",children:t.company})]})]})},ta=function(){var e=Object(a.useContext)($t),t=e.user,n=e.signOut;return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h1",{className:"h2 mb-4",children:"My Profile"}),Object(i.jsx)("div",{className:"card p-3 my-3",children:Object(i.jsx)(ea,{user:t})}),Object(i.jsxs)("button",{className:"btn btn-outline-danger",onClick:n,children:[Object(i.jsx)("i",{className:"fa fa-sign-out-alt"})," Sign Out"]})]})},na=function(e){var t=e.cancelledAt,n=e.updatedAt,a=e.status;return Object(i.jsx)("div",{className:"text-capitalize",children:"revoked"===a?Object(i.jsx)("span",{className:"badge badge-pill bg-danger",children:"Revoked"}):"cancelled"===a?Object(i.jsxs)("span",{className:"badge badge-pill bg-danger",children:["Cancelled on"," ",ae()(null!==t?t:n).utc().local().format("MMM Do YYYY HH:mm")]}):"active"===a||"succeeded"===a?Object(i.jsx)("span",{className:"badge badge-pill bg-success",children:a}):"completed"===a?Object(i.jsx)("span",{className:"badge badge-pill bg-success",children:"Completed"}):"pending"===a?Object(i.jsx)("span",{className:"badge badge-pull bg-warning text-dark",children:"Pending"}):"failed"===a?Object(i.jsx)("span",{className:"badge badge-pull bg-danger text-white",children:"Failed"}):Object(i.jsx)("span",{className:"badge badge-pull bg-secondary text-capitalize",children:a})})},aa=function(e,t){var n=t.type,a=t.payload;return n===L?Object(o.a)(Object(o.a)({},e),{},{payment_methods:a}):Object(o.a)({},e)},ca={getPaymentMethods:function(){return Oe.get("/payment_method")}},sa={payment_methods:null},ra=Object(a.createContext)(sa),ia=n(43),oa=n.n(ia),la=["cancelled","revoked"],da=function(e){var t=e.handleCancel,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],r=c[1],o=Object(a.useContext)(Hn),d=o.purchase,u=o.updatePurchase,b=o.setPropertyPurchase,j=Object(a.useContext)(ra),m=j.payment_methods,h=j.getPaymentMethods;Object(a.useEffect)((function(){r(d.status),h()}),[]);return Object(i.jsx)("div",{className:"container-fluid px-0",children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u(d)},children:[Object(i.jsx)("label",{children:"D\xedas de Vigencia"}),Object(i.jsx)("input",{type:"number",className:"form-control mb-3",value:null===d||void 0===d?void 0:d.expiration_days,onChange:function(e){return b("expiration_days",e.target.value)}}),Object(i.jsx)("label",{children:"Total Pagado"}),Object(i.jsx)("input",{type:"number",className:"form-control mb-3",value:d.amount,onChange:function(e){return b("amount",e.target.value)}}),Object(i.jsx)("label",{className:"d-block",children:"\xbfEs Regalo?"}),Object(i.jsx)(oa.a,{className:"d-block mt-1 mb-3",checked:d.is_gift||0===d.amount,onChange:function(e){return b("is_gift",e)}}),!d.is_gift&&Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{className:"d-block",children:"M\xe9todo de Pago"}),Object(i.jsx)("select",{className:"form-control mb-3",value:d.payment_method_id,onChange:function(e){return b("payment_method_id",e.target.value)},children:function(){if(Array.isArray(m))return m.map((function(e){return Object(i.jsx)("option",{value:e.payment_method_id,children:e.name},e.payment_method_id)}))}()})]}),Object(i.jsx)("label",{children:"Estado"}),Object(i.jsxs)("select",{className:"form-control mb-3",value:d.status,onChange:function(e){return b("status",e.target.value)},children:[!la.includes(s)&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("option",{value:"active",children:"Activa"}),Object(i.jsx)("option",{value:"completed",children:"Completada"}),Object(i.jsx)("option",{value:"pending",children:"Pendiente"})]}),Object(i.jsx)("option",{value:"cancelled",children:"Cancelada"}),Object(i.jsx)("option",{value:"revoked",children:"Revocada"})]}),function(){if("cancelled"===d.status&&d.status!==s)return Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:"Raz\xf3n de Cancelaci\xf3n"}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",value:d.cancel_reason,onChange:function(e){return b("cancel_reason",e.target.value)}})]})}(),"cancelled"===d.status&&d.status!==s?Object(i.jsx)("p",{children:"Si Cancelas la compra, el cliente disfrutar\xe1 sus beneficios hasta que termine su vigencia y no se har\xe1 ning\xfan cargo recurrente adicional. Esta Acci\xf3n NO puede deshacerse."}):"cancelled"===d.status&&d.status!==s?Object(i.jsx)("p",{children:"Si Revocas la compra, el cliente dejar\xe1 de tener acceso a los beneficios de esta compra inmediatamente."}):"active"!==d.status&&"completed"!==d.status||s===d.status?void 0:Object(i.jsx)("p",{children:"Si activas la compra, el cliente recibir\xe1 acceso a TBM Online y la cantidad de cr\xe9ditos incluidas en el paquete inmediatamente."}),la.includes(d.status)&&!la.includes(s)?Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{type:"button",onClick:t,className:"btn w-100 text-muted",children:"Cancelar"})}),Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("input",{type:"submit",className:"btn btn-danger",value:"Actualizar Compra"})})]}):Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{type:"button",onClick:t,className:"btn w-100 text-muted",children:"Cancelar"})}),Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("input",{type:"submit",className:"btn w-100 btn-primary",value:"Guardar Compra"})})]})]})})},ua=function(e){var t=e.purchase,n=e.showCustomer,c=e.cancelSubscription,s=Object(a.useContext)(Hn).setPurchase,r=qe().formatDateTime,o=Object(a.useContext)(Ae),l=o.clearModal,d=o.modalComponent,u=function(){l(),s(null)};return Object(i.jsxs)("tr",{className:"border text-dark",children:[Object(i.jsx)("td",{className:"id",children:t.invoice_id?t.invoice_id:t.purchase_id}),Object(i.jsx)("td",{children:t.invoice_id?"Invoice":"Purchase"}),function(){var e=t.invoice_id?t.purchase.user:t.user;if(n&&e&&null!==e)return Object(i.jsx)("td",{children:Object(i.jsxs)(Ye.a,{to:"users/".concat(e.user_id,"/"),children:[Object(i.jsx)("i",{className:"fa fa-eye me-3"}),e.name,": ",e.email]})})}(),Object(i.jsx)("td",{children:function(){var e,n;return t.invoice_id?null===(e=t.purchase.product)||void 0===e?void 0:e.name:null===(n=t.product)||void 0===n?void 0:n.name}()}),Object(i.jsx)("td",{children:Object(i.jsx)(na,{status:t.status,order_id:t.order_id})}),Object(i.jsx)("td",{className:"datetime",children:r(t.createdAt)}),Object(i.jsxs)("td",{children:["$",oe(t.amount)]}),Object(i.jsx)("td",{children:function(){if(t.discount&&null!==t.discount)return t.discount.code}()}),Object(i.jsx)("td",{className:"datetime",children:function(){if(t.expiration_date&&null!==t.expiration_date)return r(t.expiration_date);if(null!==t.subscription_id&&"cancelled"===t.status){var e=ae()(t.createdAt);null!==t.free_trial_length&&e.add(t.free_trial_length,"days");var n=ae()(t.updatedAt).add(t.subscription_interval,t.subscription_period),a=n;return e.isAfter(n)&&(a=e),r(a)}var c=ae()(t.createdAt);return null!==t.free_trial_length&&c.add(t.free_trial_length,"days"),r(c.add(t.subscription_interval,t.subscription_period))}()}),Object(i.jsxs)("td",{children:[Object(i.jsx)("button",{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Edit Purchase",className:"btn btn-round btn-sm me-2",onClick:function(){return s(t),void d("Editar Compra",Object(i.jsx)(da,{handleCancel:u}))},children:Object(i.jsx)("i",{className:"fa fa-edit"})}),function(){if(!n&&"active"===t.status&&"function"===typeof c)return Object(i.jsx)("button",{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Cancel Subscription",className:"btn btn-round btn-sm btn-outline-danger",onClick:function(){return c(t)},children:Object(i.jsx)("i",{className:"fa fa-times"})})}()]})]})},ba=function(e){var t=e.purchase,n=e.cancelSubscription,c=Object(a.useState)(""),s=Object(l.a)(c,2),r=s[0],o=s[1],d=Object(a.useContext)(Ae),u=d.alert,b=d.clearModal;return Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:"Are you sure you want to cancel your subscription to Tradealize?"})," ",Object(i.jsx)("p",{children:"You will have access up to your next invoice date and then you will lose access to all of your content."}),Object(i.jsx)("p",{children:"You can always resubscribe."}),Object(i.jsx)("label",{children:"What's the reason to cancel your subscription?"}),Object(i.jsx)("input",{type:"text",value:r,className:"form-control mb-3",onChange:function(e){return o(e.target.value)}}),Object(i.jsx)("button",{className:"btn btn-danger btn-small w-100 mb-3",onClick:function(){if(""===r||r.length<10)return u("You must include a cancel reason.");n(t,r)},children:"I understand, cancel my subscription"}),Object(i.jsx)("button",{className:"btn btn-link text-muted btn-small w-100",onClick:b,children:"Nevermind, I'll keep it"})]})},ja=function(e){var t=e.purchases,n=e.showCustomer,c=Object(a.useContext)(Hn).cancelSubscription,s=Object(a.useContext)(Ae).modalComponent,r=qe();Object(a.useEffect)((function(){he()}),[t]);var o=function(e){s("Caution",Object(i.jsx)(ba,{purchase:e,cancelSubscription:c}))};return Object(i.jsx)("div",{className:"table-responsive purchases-table",children:t&&t.length<=0?Object(i.jsx)("p",{children:r.purchases.empty}):Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{className:"bg-light border text-dark bold py-2",children:[Object(i.jsx)("th",{className:"id",children:"#ID"}),Object(i.jsx)("th",{children:"Type"}),n&&Object(i.jsx)("th",{children:"Customer"}),Object(i.jsx)("th",{children:"Product"}),Object(i.jsx)("th",{children:"Status"}),Object(i.jsx)("th",{className:"datetime",children:"Date"}),Object(i.jsx)("th",{children:"Total"}),Object(i.jsx)("th",{children:"Discount"}),Object(i.jsx)("th",{className:"datetime",children:"Expires on"}),Object(i.jsx)("th",{children:"Actions"})]})}),Object(i.jsx)("tbody",{children:function(){if(t&&!((null===t||void 0===t?void 0:t.length)<=0))return t.map((function(e,t){return Object(i.jsx)(ua,{purchase:e,showCustomer:n,cancelSubscription:o},t)}))}()})]})})},ma=function(e){var t=e.title,n=e.callback,c=Object(a.useState)(ae()().startOf("month").format("YYYY-MM-DD")),s=Object(l.a)(c,2),r=s[0],o=s[1],d=Object(a.useState)(ae()().startOf("month").add(1,"month").format("YYYY-MM-DD")),u=Object(l.a)(d,2),b=u[0],j=u[1];return Object(a.useEffect)((function(){"function"===typeof n&&n(r,b)}),[r,b]),Object(i.jsxs)("div",{className:"row mx-0 align-items-center mb-3 pb-2 border-bottom",children:[Object(i.jsx)("div",{className:"col-12 col-md-6 px-0 mb-2",children:Object(i.jsx)("h1",{className:"h2 bold mb-0",children:t})}),Object(i.jsx)("div",{className:"col-12 col-md-6 px-0 text-end mb-2",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("input",{type:"date",value:r,className:"form-control bg-white",onChange:function(e){return o(e.target.value)}})}),Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("input",{type:"date",value:b,className:"form-control bg-white",onChange:function(e){return j(e.target.value)}})})]})})]})},ha=function(e){for(var t=e.size,n=e.itemsPerPage,a=e.totalItems,c=e.currentPage,s=e.onPageChange,r=Math.ceil(a/n),o=[],l=1;l<=r;l++)o.push(l);return Object(i.jsx)("nav",{children:Object(i.jsxs)("ul",{className:"pagination d-flex mb-0 align-items-center overflow-hidden",children:[Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"btn btn-round bg-white border",onClick:function(){return s(c-1)},children:Object(i.jsx)("i",{className:"fa fa-chevron-left"})})}),"sm"!==t?o.filter((function(e){return e<5})).map((function(e){return Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"btn ms-2 ".concat(c===e?"btn-primary":"bg-white border"),onClick:function(){return s(e)},children:e})},e)})):Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"btn ms-2 btn-primary",children:c})},c),o.length>4&&"sm"!==t&&Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"btn ms-2 btn-primary",children:c>4?c:"..."})},c>4?c:"more"),Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"btn btn-round bg-white border ms-2",onClick:function(){return s(c+1)},children:Object(i.jsx)("i",{className:"fa fa-chevron-right"})})})]})})},pa=function(){var e=Object(a.useContext)(Hn),t=e.purchases,n=e.getPurchasesAdmin,c=e.spinner,s=Object(a.useContext)(cn),r=s.invoices,o=s.getInvoices,d=s.spinner,u=Object(a.useContext)(fn),b=u.products,j=u.getAllProducts,m=Object(a.useContext)($t).user,h=Object(a.useState)(0),p=Object(l.a)(h,2),O=p[0],f=p[1],x=Object(a.useState)(null),v=Object(l.a)(x,2),g=v[0],y=v[1],N=Object(a.useState)(""),A=Object(l.a)(N,2),C=A[0],w=A[1],E=Object(a.useState)(""),S=Object(l.a)(E,2),_=S[0],k=S[1],P=Object(a.useState)(null),I=Object(l.a)(P,2),T=I[0],M=I[1],R=Object(a.useState)(null),D=Object(l.a)(R,2),U=D[0],Y=D[1],B=Object(a.useState)(null),L=Object(l.a)(B,2),F=L[0],G=L[1],W=Object(a.useState)([]),H=Object(l.a)(W,2),z=H[0],q=H[1];Object(a.useEffect)((function(){Z(),j()}),[]),Object(a.useEffect)((function(){""===U||""===T||c||d||Z()}),[U,T,F,O,_,g,C]),Object(a.useEffect)((function(){if(!c&&!d){var e="invoice"===g?Object(Ve.a)(r):"purchase"===g?Object(Ve.a)(t):[].concat(Object(Ve.a)(r),Object(Ve.a)(t));e.sort((function(e,t){return ae()(t.createdAt).diff(ae()(e.createdAt))})),q(e)}}),[r,t]);var Z=function(){var e={page:O,query:C,status:_,product_id:F,start_date:U,end_date:T};"invoice"!==g&&null!==g||o(e),"purchase"!==g&&null!==g||n(e)};return Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)(ma,{title:"Purchases",callback:function(e,t){Y(e),M(t)}}),Object(i.jsx)("div",{className:"container-fluid px-0",children:Object(i.jsx)("input",{type:"text",value:C,className:"form-control bg-white mb-3",onChange:function(e){return w(e.target.value)},placeholder:"Search..."})}),Object(i.jsxs)("div",{className:"card no-scale p-3 mb-3 shadow-sm",children:[Object(i.jsxs)("div",{className:"row align-items-center mb-3",children:[Object(i.jsxs)("div",{className:"col-12 col-md-6",children:[Object(i.jsx)("button",{className:"btn btn-sm btn-".concat(""===_?"primary":"light"," br-0"),onClick:function(){return k("")},children:"All"}),Object(i.jsx)("button",{className:"btn btn-sm btn-".concat(Array.isArray(_)&&_.includes("active")?"primary":"light"," br-0"),onClick:function(){return k(["active","completed","success"])},children:"Successful"}),Object(i.jsx)("button",{className:"btn btn-sm btn-".concat(Array.isArray(_)&&_.includes("cancelled")?"primary":"light"," br-0"),onClick:function(){return k(["failed","cancelled"])},children:"Failed"}),Object(i.jsx)("button",{className:"btn btn-sm btn-".concat(Array.isArray(_)&&_.includes("processing")?"primary":"light"," br-0"),onClick:function(){return k(["pending","processing","on-hold"])},children:"Pending"})]}),Object(i.jsxs)("div",{className:"col-12 col-md-3",children:[Object(i.jsx)("button",{className:"btn btn-sm btn-".concat(null===g?"primary":"light"," br-0"),onClick:function(){return y(null)},children:"All"}),Object(i.jsx)("button",{className:"btn btn-sm btn-".concat("purchase"===g?"primary":"light"," br-0"),onClick:function(){return y("purchase")},children:"Purchases"}),Object(i.jsx)("button",{className:"btn btn-sm btn-".concat("invoice"===g?"primary":"light"," br-0"),onClick:function(){return y("invoice")},children:"Invoices"})]}),Object(i.jsx)("div",{className:"col-12 col-md-3",children:Object(i.jsx)("select",{value:F,className:"form-control",onChange:function(e){return G(e.target.value)},children:function(){if(Array.isArray(b))return[Object(i.jsx)("option",{value:"",children:"All Products"})].concat(Object(Ve.a)(b.map((function(e){return Object(i.jsx)("option",{value:e.product_id,children:e.name},e.product_id)}))))}()})})]}),Object(i.jsx)(ja,{showCustomer:!0,purchases:z,user:m,showType:!0}),Object(i.jsx)(ha,{currentPage:O,onPageChange:f,itemsPerPage:12,totalItems:200})]})]})},Oa=function(e){var t=e.customer,n=e.extraFields,a=e.showCancelReason;return Object(i.jsxs)("tr",{className:"p-2 border-bottom small align-middle hover-light",children:[Object(i.jsx)("td",{className:"td-id",children:t.user_id}),Object(i.jsx)("td",{children:Object(i.jsxs)(Ye.a,{to:"".concat(t.user_id),children:[Object(i.jsx)("i",{className:"fa fa-eye me-2"}),function(){var e=t.name,n=t.last_name;return"".concat(null!==e?e:""," ").concat(null!==n?n:"")}()]})}),Object(i.jsx)("td",{children:Object(i.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"mailto:".concat(t.email),className:"text-secondary",children:[Object(i.jsx)("i",{className:"fa fa-envelope me-2"}),t.email]})}),Object(i.jsx)("td",{children:Object(i.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"https://wa.me/52".concat(t.phone),className:null!==t.phone?"text-success":"text-secondary",children:[Object(i.jsx)("i",{className:"fab fa-whatsapp me-2"}),t.phone]})}),Object(i.jsxs)("td",{children:[Object(i.jsx)("i",{className:"fa fa-calendar"})," ",null!==t.birthdate&&ae()(t.birthdate).format("DD MMM YYYY")]}),Object(i.jsxs)("td",{children:["$",oe(t.value)]}),function(){if(Array.isArray(n))return n.map((function(e){return Object(i.jsx)("td",{children:t[e.key]})}))}(),function(){if(a&&Array.isArray(t.purchases)){var e=t.purchases.find((function(e){return null!==e.cancel_reason}));return Object(i.jsx)("td",{children:e?e.cancel_reason:""})}}()]})},fa=function(e){var t=e.direction,n=e.setDirection,a=e.setSort,c=e.label,s=e.column,r=e.selected;return Object(i.jsxs)("td",{onClick:function(){a(s),n("ASC"===t?"DESC":"ASC")},className:r===s?"bg-accent":"text-dark",children:[c,Object(i.jsx)("i",{className:"ms-2 fa fa-chevron-".concat("DESC"===t?"down":"up")})]})},xa=function(e){var t=e.customers,n=e.extraFields,a=e.setSort,c=e.selected,s=e.direction,r=e.setDirection,o=e.showCancelReason;return Object(i.jsx)("div",{className:"table-responsive",children:Object(i.jsxs)("table",{className:"table border",children:[Object(i.jsx)("thead",{className:"bg-light border bold small",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)(fa,{column:"customer_id",label:"#ID",selected:c,setSort:a,direction:s,setDirection:r}),Object(i.jsx)(fa,{column:"name",label:"Name",selected:c,setSort:a,direction:s,setDirection:r}),Object(i.jsx)(fa,{column:"email",label:"Email",selected:c,setSort:a,direction:s,setDirection:r}),Object(i.jsx)(fa,{column:"phone",label:"Phone",setSort:a,selected:c,direction:s,setDirection:r}),Object(i.jsx)(fa,{column:"birthdate",label:"Birthday",setSort:a,selected:c,direction:s,setDirection:r}),Object(i.jsx)(fa,{column:"value",label:"LTV",setSort:a,selected:c,direction:s,setDirection:r}),Array.isArray(n)?n.map((function(e){return Object(i.jsx)("td",{children:e.label})})):o?Object(i.jsx)("td",{children:"Reason"}):void 0]})}),Object(i.jsx)("tbody",{children:function(){if(Array.isArray(t))return 0===t.length?Object(i.jsx)("tr",{className:"text-dark",children:Object(i.jsx)("td",{colSpan:5,children:"No customers available."})}):t.map((function(e){return Object(i.jsx)(Oa,{customer:e,extraFields:n,showCancelReason:o},e.user_id)}))}()})]})})},va=function(){var e=Object(a.useState)("name"),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(l.a)(s,2),o=r[0],d=r[1],u=Object(a.useState)(1),b=Object(l.a)(u,2),j=b[0],m=b[1],h=Object(a.useState)("ASC"),p=Object(l.a)(h,2),O=p[0],f=p[1],x=Object(a.useState)(""),v=Object(l.a)(x,2),g=v[0],y=v[1],N=Object(a.useContext)(nn),A=N.customers,C=N.getAllCustomers,w=qe().admin.users;return Object(a.useEffect)((function(){C({page:j})}),[]),Object(a.useEffect)((function(){C({query:g,page:j,field:o,sort:n,direction:O})}),[g,j,o,n,O]),Object(i.jsxs)("div",{className:"container-fluid h-100 d-flex flex-column",children:[Object(i.jsxs)("div",{className:"row mx-0 align-items-center mb-3 border-bottom",children:[Object(i.jsx)("div",{className:"col-12 col-md-3 ps-0",children:Object(i.jsx)("h1",{children:"Users"})}),Object(i.jsx)("div",{className:"col-12 col-lg-9 px-0 align-items-center",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 col-lg-8 mb-3",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-8 pr-0",children:Object(i.jsx)("input",{type:"text",className:"form-control bg-white",placeholder:"Search...",value:g,onChange:function(e){return y(e.target.value)}})}),Object(i.jsx)("div",{className:"col-4 pl-0",children:Object(i.jsxs)("select",{className:"form-control bg-white",value:o,onChange:function(e){return d(e.target.value)},style:{minWidth:"75px"},children:[Object(i.jsx)("option",{value:"",children:w.all}),Object(i.jsx)("option",{value:"name",children:w.name}),Object(i.jsx)("option",{value:"last_name",children:w.lastName}),Object(i.jsx)("option",{value:"email",children:w.email}),Object(i.jsx)("option",{value:"phone",children:w.phone})]})})]})}),Object(i.jsx)("div",{className:"col-12 mb-4 col-lg-4 text-right",style:{minWidth:"145px"},children:Object(i.jsxs)(Ye.a,{to:"new/edit",className:"btn btn-primary w-100",children:["+ ",w.addBtn]})})]})})]}),Object(i.jsxs)("div",{className:"card p-3",style:{overflowY:"auto"},children:[Object(i.jsx)(xa,{customers:A,setSort:c,direction:O,selected:n,setDirection:f}),Object(i.jsx)(ha,{size:12,currentPage:j,onPageChange:m,itemsPerPage:24,totalItems:200})]})]})},ga=function(e){var t=e.customer,n=e.invoice,c=Object(a.useContext)(cn),s=c.invoice,r=c.clearInvoice,o=c.setInvoice,l=c.postInvoice,d=c.createInvoice,u=c.setPropertyInvoice,b=Object(a.useContext)(ra),j=b.payment_methods,m=b.getPaymentMethods,h=Object(a.useContext)(Ae).clearModal;Object(a.useEffect)((function(){n?o(n):d(),isNaN(null===s||void 0===s?void 0:s.invoice_id)&&u("user_id",t.user_id),m()}),[]);var p=function(){h(),r()},O=function(e){if(e&&null!==e.product){var t=e.product;if(t&&null!==t)return t.name}};return Object(i.jsx)("div",{className:"container-fluid px-0",children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l(s),p()},children:[Object(i.jsx)("label",{children:"Compra"}),Object(i.jsx)("select",{value:null===s||void 0===s?void 0:s.purchase_id,className:"form-control mb-3",onChange:function(e){return function(e){var n=t.purchases.find((function(t){return parseInt(null===t||void 0===t?void 0:t.purchase_id)===parseInt(e)}));n&&u("amount",n.amount),u("purchase_id",e)}(e.target.value)},children:function(){if(Array.isArray(t.purchases))return[Object(i.jsx)("option",{value:null,children:"Sin compra"})].concat(Object(Ve.a)(t.purchases.map((function(e){return Object(i.jsxs)("option",{value:e.purchase_id,children:["#",e.purchase_id," - ",O(e)," ",ae()(e.createdAt).format("DD MMM YYYY HH:mm")]},e.purchase_id)}))))}()},null===s||void 0===s?void 0:s.purchase_id),Object(i.jsx)("label",{children:"Monto"}),Object(i.jsx)("input",{type:"number",className:"form-control mb-3",value:null===s||void 0===s?void 0:s.amount,onChange:function(e){return u("amount",e.target.value)}}),Object(i.jsx)("label",{className:"d-block",children:"M\xe9todo de Pago"}),Object(i.jsx)("select",{className:"form-control mb-3",value:null===s||void 0===s?void 0:s.payment_method_id,onChange:function(e){return u("payment_method_id",e.target.value)},children:function(){if(Array.isArray(j))return j.map((function(e){return Object(i.jsx)("option",{value:e.payment_method_id,children:e.name},e.payment_method_id)}))}()}),Object(i.jsx)("label",{children:"Estado"}),Object(i.jsxs)("select",{className:"form-control mb-3",value:null===s||void 0===s?void 0:s.status,onChange:function(e){return u("status",e.target.value)},children:[Object(i.jsx)("option",{value:"completed",children:"Completado"}),Object(i.jsx)("option",{value:"active",children:"Activo"}),Object(i.jsx)("option",{value:"pending",children:"Pendiente"}),Object(i.jsx)("option",{value:"failed",children:"Fallido"})]}),Object(i.jsxs)("div",{className:"row mt-3",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Guardar Cargo"})}),Object(i.jsx)("div",{className:"col-6 text-end",children:Object(i.jsx)("button",{type:"button",className:"btn btn-link text-muted",onClick:p,children:"Cancelar"})})]})]})})},ya=function(e){var t,n,c=e.invoice,s=Object(a.useContext)(nn),r=(s.getSingleCustomer,s.customer),o=Object(a.useContext)(Ae).modalComponent,l=qe().formatDateTime;Object(a.useEffect)((function(){}),[]);var d=function(){o("Editar Cargo",Object(i.jsx)(ga,{customer:r,invoice:c}))};return Object(i.jsxs)("tr",{className:"border text-dark",children:[Object(i.jsx)("td",{className:"id",children:c.invoice_id}),Object(i.jsx)("td",{className:"id",children:null===c||void 0===c||null===(t=c.purchase)||void 0===t||null===(n=t.product)||void 0===n?void 0:n.name}),Object(i.jsx)("td",{children:Object(i.jsx)(na,{status:c.status,order_id:c.order_id})}),Object(i.jsx)("td",{className:"datetime",children:l(c.createdAt)}),Object(i.jsxs)("td",{children:["$",oe(c.amount)]}),Object(i.jsx)("td",{className:"datetime",children:function(){if(c.expiration_date&&null!==c.expiration_date)return l(c.expiration_date);if(null!==c.subscription_id&&"cancelled"===c.status){var e=ae()(c.createdAt);null!==c.free_trial_length&&e.add(c.free_trial_length,"days");var t=ae()(c.updatedAt).add(c.subscription_interval,c.subscription_period),n=t;return e.isAfter(t)&&(n=e),l(n)}var a=ae()(c.createdAt);return l(a.add(c.subscription_interval,c.subscription_period))}()}),Object(i.jsx)("td",{children:Object(i.jsx)("button",{className:"btn btn-sm",onClick:d,children:Object(i.jsx)("i",{className:"fa fa-edit"})})})]})},Na=function(e){var t=e.invoices,n=qe();return Object(i.jsx)("div",{className:"table-responsive purchases-table",children:Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{className:"bg-light text-dark border bold py-2",children:[Object(i.jsx)("th",{className:"id",children:"#ID"}),Object(i.jsx)("th",{children:n.invoices.product}),Object(i.jsx)("th",{children:n.invoices.status}),Object(i.jsx)("th",{className:"datetime",children:n.invoices.date}),Object(i.jsx)("th",{children:n.invoices.total}),Object(i.jsx)("th",{children:n.invoices.next})]})}),Object(i.jsx)("tbody",{children:function(){if(Array.isArray(t))return t.length<=0?Object(i.jsx)("p",{className:"mt-3",children:"No records found"}):t.map((function(e){return Object(i.jsx)(ya,{invoice:e},e.invoice_id)}))}()})]})})},Aa=function(e){var t=e.title,n=e.onClick,a=e.hideButton,c=qe();return Object(i.jsxs)("div",{className:"row mx-0 align-items-center mb-3 pb-3 border-bottom",children:[Object(i.jsx)("div",{className:"col col-md-6 px-0",children:Object(i.jsx)("h1",{className:"h2 bold mb-0",children:t})}),!a&&Object(i.jsx)("div",{className:"col col-md-6 px-0 text-end",children:Object(i.jsxs)("button",{className:"btn btn-primary",onClick:n,children:["+ ",c.admin.users.addBtn]})})]})},Ca=function(e){var t=e.customer,n=e.products,c=e.handleCancel,s=e.paymentMethods,r=Object(a.useState)(0),o=Object(l.a)(r,2),d=o[0],u=o[1],b=Object(a.useState)(!1),j=Object(l.a)(b,2),m=j[0],h=j[1],p=Object(a.useState)(""),O=Object(l.a)(p,2),f=O[0],x=O[1],v=Object(a.useState)(null),g=Object(l.a)(v,2),y=g[0],N=g[1],A=Object(a.useState)(null),C=Object(l.a)(A,2),w=C[0],E=C[1],S=Object(a.useState)(null),_=Object(l.a)(S,2),k=_[0],P=_[1],I=Object(a.useContext)(nn).extenderAcceso;Object(a.useEffect)((function(){if(n){var e=n[0];null!=e&&(E(e),P(e.product_id),u(e.expiration_days),x(e.price))}}),[n]),Object(a.useEffect)((function(){null!==w&&N(2)}),[w]),Object(a.useEffect)((function(){if(Array.isArray(n)){var e=n.find((function(e){return e.product_id===parseInt(k)}));e&&(E(e),u(e.expiration_days))}}),[k]);return Object(i.jsx)("div",{className:"container-fluid px-0",children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),I({user_id:t.user_id,product_id:k,payment_method_id:y,dias:d,gift:m,total:f})},children:[Object(i.jsx)("label",{children:"product"}),Object(i.jsx)("select",{className:"form-control mb-3",onChange:function(e){return P(e.target.value)},children:function(){if(n)return n.map((function(e){return Object(i.jsx)("option",{value:e.product_id,children:e.name},e.product_id)}))}()}),Object(i.jsx)("label",{children:"N\xfamero de D\xedas"}),Object(i.jsx)("input",{type:"number",className:"form-control mb-3",value:d,onChange:function(e){return u(e.target.value)}}),Object(i.jsx)("label",{children:"Total Pagado"}),Object(i.jsx)("input",{type:"number",className:"form-control mb-3",value:f,onChange:function(e){return x(e.target.value)}}),Object(i.jsx)("label",{className:"d-block",children:"\xbfEs Regalo?"}),Object(i.jsx)(oa.a,{checked:m,className:"d-block mt-1 mb-3",onChange:function(e){return h(e)}}),!m&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("label",{className:"d-block",children:"M\xe9todo de Pago"}),Object(i.jsx)("select",{className:"form-control mb-3",value:y,onChange:function(e){return N(e.target.value)},children:function(){if(Array.isArray(s))return s.map((function(e){return Object(i.jsx)("option",{value:e.payment_method_id,children:e.name},e.payment_method_id)}))}()})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{type:"button",onClick:c,className:"btn w-100 text-muted",children:"Cancelar"})}),Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Extender Acceso"})})]})]})})},wa=function(e){var t=e.customer,n=e.handleEdit,c=Object(a.useContext)(Qt),s=c.S3_ENDPOINT,r=c.profile_placeholder,o=qe().admin.users,l=t.file,d=t.name,u=t.last_name,b=t.birthdate,j=t.instagram,m=t.phone,h=t.email;return Object(i.jsxs)("div",{className:"container-fluid px-0",children:[Object(i.jsxs)("div",{className:"row mb-3 align-items-center mx-0",children:[Object(i.jsx)("div",{className:"col-4 col-md-2 ps-0",children:Object(i.jsx)("img",{src:function(){var e=r;return l&&null!==l&&(e="".concat(l.name,".").concat(l.type)),"".concat(s,"/").concat(e)}(),className:"w-100 border p-3 br-10 profile-image",alt:"Perfil de cliente"})}),Object(i.jsx)("div",{className:"col-8 col-md-10",children:Object(i.jsxs)("h4",{className:"mb-0",children:[d," ",u]})})]}),Object(i.jsxs)("div",{className:"mb-1",children:[Object(i.jsx)("i",{className:"fa fa-envelope me-3"}),h]}),Object(i.jsxs)("div",{className:"mb-1",children:[Object(i.jsx)("i",{className:"fa fa-birthday-cake me-3"}),ae()(b).format("DD MMM YYYY")]}),Object(i.jsxs)("div",{className:"mb-1",children:[Object(i.jsx)("i",{className:"fa fa-phone me-3"}),m]}),Object(i.jsxs)("div",{className:"mb-1",children:[Object(i.jsx)("i",{className:"fab fa-instagram me-3"}),j]}),Object(i.jsxs)("button",{onClick:n,className:"btn btn-outline-primary mt-3",children:[Object(i.jsx)("i",{className:"fa fa-edit me-3"}),o.edit]})]})},Ea=function(e){var t=e.customer,n=Object(a.useState)(!1),c=Object(l.a)(n,2),s=(c[0],c[1]),r=Object(a.useContext)($t).recoverPassword,o=qe().admin.users,d=Object(a.useContext)(nn),u=d.link,b=d.getPasswordResetLink,j=Object(a.useContext)(Ae).success,m=Object(a.useContext)(Qt).videos_enabled;Object(a.useEffect)((function(){if(null!==u&&(null===u||void 0===u?void 0:u.length)>0){var e=document.createElement("input");e.value=u,e.id="copy-input",document.body.appendChild(e);var t=document.getElementById("copy-input");t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),navigator.clipboard.writeText(t.value).then((function(){s(!0),j("Enlace copiado al portapapeles.")})),e.remove()}}),[u]);var h=function(){if(t.has_online&&null===t.user)return Object(i.jsxs)("span",{children:[" ","hasta ",ae()(t.online_expiration).format("DD MMM YYYY")]})};return Object(i.jsxs)("div",{className:"container-fluid px-0",children:[Object(i.jsx)("h4",{children:o.recoveryPass}),Object(i.jsxs)("button",{className:"btn btn-outline-dark me-2 my-1",onClick:function(){return r(t.email)},children:[Object(i.jsx)("i",{className:"fa fa-envelope me-2"})," ",o.sendEmail]}),Object(i.jsxs)("button",{className:"btn btn-outline-dark me-2 my-1",onClick:function(){return b(t.email)},children:[Object(i.jsx)("i",{className:"fa fa-link me-2"})," ",o.generateLink]}),Object(i.jsxs)("h4",{className:"mt-4",children:[o.totalPurchases,": ","$",oe(me(t))," MXN"]}),function(){if(parseInt(m))return Object(i.jsxs)("div",{className:"row mb-3",children:[Object(i.jsx)("div",{className:"col-6",children:"Acceso a Clases Online"}),Object(i.jsx)("div",{className:"col-6",children:t.has_online?Object(i.jsxs)("span",{className:"badge badge-pill bg-success",children:["Activo",h()]}):Object(i.jsx)("span",{className:"badge badge-pill bg-secondary",children:"Inactivo"})})]})}()]})},Sa=function(e){var t=e.user_id,n=Object(a.useContext)(nn),c=n.customer,s=n.getSingleCustomer,r=Object(a.useContext)(Ae),o=r.clearModal,l=r.modalComponent,d=Object(a.useContext)(fn),u=d.products,b=d.getAllProducts,j=Object(a.useContext)(ra),m=j.payment_methods,h=j.getPaymentMethods,p=Object(a.useContext)(cn).createInvoice,O=qe().admin.users;Object(a.useEffect)((function(){s(t)}),[t]),Object(a.useEffect)((function(){b(),h()}),[]);return Object(i.jsxs)("div",{className:"container-fluid h-100 d-flex flex-column",children:[Object(i.jsxs)("div",{className:"row pb-2 border-bottom mx-0 mb-3 align-items-center",children:[Object(i.jsx)("div",{className:"col col-md-6 ps-0",children:Object(i.jsx)("h1",{children:O.customer})}),Object(i.jsx)("div",{className:"col col-md-6 pe-0 text-end"})]}),Object(i.jsxs)("div",{className:"row position-relative",style:{overflowY:"auto",flex:1},children:[Object(i.jsx)("div",{className:"card mb-3 p-3",children:c&&null!==c?Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 col-md-6",children:Object(i.jsx)(wa,{customer:c,handleEdit:function(){return Object(Ye.c)("users/".concat(t,"/edit"))}})}),Object(i.jsx)("div",{className:"col-12 col-md-6",children:Object(i.jsx)(Ea,{customer:c})})]}):Object(i.jsx)("div",{className:"spinner-border"})}),Object(i.jsxs)("div",{className:"card p-3 pb-1  my-3",children:[Object(i.jsx)(Aa,{title:O.purchases,onClick:function(){c&&l("Agregar Acceso",Object(i.jsx)(Ca,{customer:c,products:u,handleCancel:o,paymentMethods:m}))}}),Object(i.jsx)(ja,{showCustomer:!1,purchases:null!==c?c.purchases:[]})]}),Object(i.jsxs)("div",{className:"card p-3 pb-1 no-scale mt-3",children:[Object(i.jsx)(Aa,{title:O.invoices,onClick:function(){p(),l("Agregar Cargo",Object(i.jsx)(ga,{customer:c}))}}),Object(i.jsx)(Na,{invoices:null!==c?c.invoices:[]})]})]}),Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("button",{className:"btn btn-outline-danger mt-3",children:[Object(i.jsx)("i",{className:"fa fa-trash me-2"}),O.delete]})})})]})},_a=function(e){var t=e.headers;return Object(i.jsx)("div",{className:"row border bg-light py-1 mx-0 bold mt-3",children:function(){if(Array.isArray(t))return t.map((function(e,t){return Object(i.jsx)("div",{className:"col",children:e},t)}))}()})},ka=n(60),Pa=n.n(ka),Ia=function(){var e=Object(a.useContext)(En),t=e.income,n=e.payment_methods,c=e.getIngresos;return Object(i.jsxs)("div",{className:"container-fluid px-3",children:[Object(i.jsx)(ma,{title:"Income",callback:c}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-12 col-md-6",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 col-md-6",children:Object(i.jsxs)("div",{className:"card shadow-sm p-3 ",children:[Object(i.jsx)("h3",{children:"Total Income"}),function(){if(Array.isArray(n)){var e=0;return n.forEach((function(t){var n=parseFloat(t.total);e+=n})),Object(i.jsxs)("h4",{className:"h1 normal",children:["$",oe(e.toFixed(2))]})}return Object(i.jsx)("div",{className:"spinner-border"})}()]})}),Object(i.jsx)("div",{className:"col-12 col-md-6",children:Object(i.jsxs)("div",{className:"card shadow-sm p-3 ",children:[Object(i.jsx)("h3",{children:"Total Payments"}),t&&null!==t?Object(i.jsx)("h4",{className:"h1 normal",children:t.payments}):Object(i.jsx)("div",{className:"spinner-border"})]})})]}),Object(i.jsx)("div",{className:"row mt-3",children:Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsxs)("div",{className:"card shadow-sm p-3  pb-4",children:[Object(i.jsx)("h3",{children:"Payment Methods"}),Object(i.jsx)(_a,{headers:["Nombre","Pagos","Total"]}),function(){if(n&&null!==n)return n.map((function(e){return Object(i.jsxs)("div",{className:"row p-2 mx-0 align-items-center border-bottom",children:[Object(i.jsx)("div",{className:"col-4",children:e.name}),Object(i.jsx)("div",{className:"col-4",children:e.payments}),Object(i.jsxs)("div",{className:"col-4",children:["$",oe(e.total)]})]},e.name)}))}()]})})})]}),Object(i.jsx)("div",{className:"col-12 col-md-6",children:Object(i.jsxs)("div",{className:"card shadow-sm p-3 ",children:[Object(i.jsx)("h3",{children:"Payment Methods by Income"}),function(){if(Array.isArray(n)){var e=0;n.forEach((function(t){e+=parseFloat(t.total)}));var t=n.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{porcentaje:parseFloat(t.total)/parseFloat(e)})}));return Object(i.jsx)(Pa.a,{type:"donut",height:"415",width:"100%",options:{labels:t.map((function(e){return e.name}))},series:t.map((function(e){return e.porcentaje}))})}}()]})})]})]})},Ta=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useContext)(En),r=s.signups,o=s.customers,d=s.cancelled,u=s.getSignUps,b=function(e){return Array.isArray(e)?e.length:Object(i.jsx)("div",{className:"spinner-border"})};return Object(i.jsxs)("div",{className:"container-fluid px-3 mb-3",children:[Object(i.jsx)(ma,{title:"Customers",callback:u}),Object(i.jsxs)("div",{className:"row mt-4",children:[Object(i.jsx)("div",{className:"col-12 col-md-4 my-2",children:Object(i.jsxs)("div",{className:"card p-3 ",children:[Object(i.jsx)("p",{className:"bold",children:"Sign Ups"}),Object(i.jsx)("h3",{className:"mb-0",children:b(r)}),Object(i.jsx)("button",{className:"btn btn-link text-secondary text-left px-0 my-2",onClick:function(){return c("nuevos")},children:"Expand"})]})}),Object(i.jsx)("div",{className:"col-12 col-md-4 my-2",children:Object(i.jsxs)("div",{className:"card p-3  mb-4",children:[Object(i.jsx)("p",{className:"bold",children:"Active Customers"}),Object(i.jsx)("h3",{className:"mb-0",children:b(o)}),Object(i.jsx)("button",{className:"btn btn-link text-secondary text-left px-0 my-2",onClick:function(){return c("activos")},children:"Expand"})]})}),Object(i.jsx)("div",{className:"col-12 col-md-4 my-2",children:Object(i.jsxs)("div",{className:"card p-3 ",children:[Object(i.jsx)("p",{className:"bold",children:"Cancelled Customers"}),Object(i.jsx)("h3",{className:"mb-0",children:b(d)}),Object(i.jsx)("button",{className:"btn btn-link text-secondary text-left px-0 my-2",onClick:function(){return c("cancelados")},children:"Expand"})]})})]}),function(){if(null!==n){var e=[];switch(n){case"nuevos":e=r;break;case"cancelados":e=d;break;default:e=o}return Object(i.jsxs)("div",{className:"card p-3 ",children:[" ",Object(i.jsxs)("div",{className:"row align-items-center mb-2",children:[Object(i.jsx)("div",{className:"col-12 col-md-6",children:Object(i.jsx)("h3",{className:"mb-0",children:Object(i.jsx)("span",{className:"text-capitalize",children:"nuevos"===n?"Sign Ups":"cancelados"===n?"Cancelled Customers":"Active Customers"})})}),Object(i.jsx)("div",{className:"col-12 col-md-6 text-right",children:Object(i.jsx)("button",{className:"btn btn-link text-secondary",onClick:function(){return c(null)},children:"Ocultar"})})]}),Object(i.jsx)(xa,{customers:e,showCancelReason:"cancelados"===n})]})}}()]})},Ma=function(){var e=Object(a.useContext)(En),t=e.getPurchases,n=e.purchases;return Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)(ma,{title:"Products",callback:t}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 col-md-6",children:Object(i.jsxs)("div",{className:"card shadow-sm p-3 me-3  my-3",children:[Object(i.jsx)("h4",{children:"Purchases by Product"}),Object(i.jsx)(_a,{headers:["Name","Purchases","Total"]}),function(){if(n&&null!==n)return n.map((function(e){return Object(i.jsxs)("div",{className:"row p-2",children:[Object(i.jsx)("div",{className:"col",children:e.name}),Object(i.jsx)("div",{className:"col",children:e.purchases}),Object(i.jsxs)("div",{className:"col",children:["$",oe(e.total)]})]},e.product_id)}))}()]})}),Object(i.jsx)("div",{className:"col-12 col-md-6",children:Object(i.jsxs)("div",{className:"card shadow-sm p-3 me-3  my-3",children:[Object(i.jsx)("h4",{children:"Income by Product"}),function(){if(Array.isArray(n)){var e=0;return n.forEach((function(t){e+=parseFloat(t.total)})),Object(i.jsx)(Pa.a,{type:"donut",height:"415",width:"100%",options:{labels:n.map((function(e){return e.name}))},series:n.map((function(t){return t.total/e}))})}}()]})})]})]})},Ra=function(e,t){var n=t.type,a=t.payload;return n===N?Object(o.a)(Object(o.a)({},e),{},{users:a}):Object(o.a)({},e)},Da="/staff",Ua=function(e){return Oe.get("".concat(Da,"/admin/all?").concat(ie(e)))},Ya=function(e,t){return Oe.post(Da,{email:e,role:t})},Ba=function(e,t){return Oe.put(Da,{staff_id:e,role:t})},La=function(e){return Oe.delete("".concat(Da,"/").concat(e))},Fa={users:null,user:null},Ga=Object(a.createContext)(Fa),Wa=function(e){var t=e.user,n=Object(a.useState)("admin"),c=Object(l.a)(n,2),s=c[0],r=c[1],o=Object(a.useContext)(Ga).updateStaff;return Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o(t.staff_id,s)},children:[null!==t&&Object(i.jsx)("p",{children:t.user.email}),Object(i.jsx)("label",{children:"Rol"}),Object(i.jsxs)("select",{className:"form-control mb-3",value:s,onChange:function(e){return r(e.target.value)},children:[Object(i.jsx)("option",{value:"admin",children:"Admin"}),Object(i.jsx)("option",{value:"manager",children:"Manager"})]}),Object(i.jsxs)("div",{className:"row mt-3",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})}),Object(i.jsx)("div",{className:"col-6 text-right",children:Object(i.jsx)("button",{type:"button",onClick:le,className:"btn btn-link text-secondary",children:"Cancelar"})})]})]})},Ha=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)("admin"),r=Object(l.a)(s,2),o=r[0],d=r[1],u=Object(a.useState)(""),b=Object(l.a)(u,2),j=b[0],m=b[1],h=Object(a.useState)(""),p=Object(l.a)(h,2),O=p[0],f=p[1],x=Object(a.useContext)(nn),v=x.customers,g=x.getAllCustomers,y=Object(a.useContext)(Ga).createStaff;Object(a.useEffect)((function(){""!==O&&g({query:O})}),[O]),Object(a.useEffect)((function(){m(null!==n?n.email:"")}),[n]);return Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(j,o)},children:[Object(i.jsx)("label",{children:"Rol"}),Object(i.jsxs)("select",{className:"form-control mb-3",value:o,onChange:function(e){return d(e.target.value)},children:[Object(i.jsx)("option",{value:"admin",children:"Admin"}),Object(i.jsx)("option",{value:"manager",children:"Manager"})]}),Object(i.jsx)("p",{children:"Buscar usuario por nombre o correo."}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",placeholder:"Buscar...",value:O,onChange:function(e){return f(e.target.value)}}),null!==n?Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"row mx-0 small align-items-center my-4",children:[Object(i.jsx)("div",{className:"col",children:n.name}),Object(i.jsx)("div",{className:"col",children:n.email}),Object(i.jsx)("div",{className:"col text-right",children:Object(i.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){return c(null)},children:Object(i.jsx)("i",{className:"fa fa-trash"})})})]}),Object(i.jsxs)("div",{className:"row mt-3 align-items-center",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{className:"btn btn-primary",children:"Guardar"})}),Object(i.jsx)("div",{className:"col-6 text-right",children:Object(i.jsx)("button",{className:"btn btn-link text-secondary",children:"Cancelar"})})]})]}):""!==j?Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"row my-3 mx-0",children:[Object(i.jsx)("div",{className:"col-6",children:j}),Object(i.jsx)("div",{className:"col-6 text-right",children:Object(i.jsx)("button",{className:"btn btn-outline-danger",children:Object(i.jsx)("i",{className:"fa fa-trash"})})})]}),Object(i.jsxs)("div",{className:"row mt-3 align-items-center",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})}),Object(i.jsx)("div",{className:"col-6 text-right",children:Object(i.jsx)("button",{type:"button",onClick:le,className:"btn btn-link text-secondary",children:"Cancelar"})})]})]}):v&&null!==v?0===v.length&&""!==O?Object(i.jsx)("button",{className:"btn btn-secondary-dark my-3",onClick:function(){return m(O)},children:"+ Invitar"}):v.map((function(e){return Object(i.jsxs)("div",{className:"row align-items-center py-2 small hover-light border-top",children:[Object(i.jsxs)("div",{className:"col col-md-4",children:[e.name," ",e.last_name]}),Object(i.jsx)("div",{className:"col col-md-4",children:e.email}),Object(i.jsx)("div",{className:"col col-md-4 text-end",children:Object(i.jsx)("button",{className:"btn btn-outline-dark btn-sm",onClick:function(){return c(e)},children:"+"})})]},e.user_id)})):void 0]})},za=function(e){var t=e.user,n=e.editUser,a=e.deleteUser;return Object(i.jsxs)("div",{className:"row py-2 small hover-light border-bottom align-items-center",children:[Object(i.jsxs)("div",{className:"col",children:[t.user.name," ",t.user.last_name]}),Object(i.jsx)("div",{className:"col",children:t.user.email}),Object(i.jsx)("div",{className:"col text-capitalize",children:t.role}),Object(i.jsxs)("div",{className:"col",children:[Object(i.jsxs)("button",{className:"btn btn-outline-dark btn-sm",onClick:function(){return n(t)},children:[Object(i.jsx)("i",{className:"fa fa-edit"})," Editar"]}),Object(i.jsxs)("button",{className:"btn btn-outline-danger mx-3 btn-sm",onClick:function(){return a(t)},children:[Object(i.jsx)("i",{className:"fa fa-trash"})," Eliminar"]})]})]})},qa=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(l.a)(s,2),o=r[0],d=r[1],u=Object(a.useContext)(Ga),b=u.users,j=u.getStaff,m=u.deleteStaff,h=u.clearStaff,p=Object(a.useContext)(Ae).modalComponent;Object(a.useEffect)((function(){return j({page:n,query:o}),h}),[n,o]);var O=function(e){p("Editar Usuario",Object(i.jsx)(Wa,{user:e}))},f=function(e){p("Eliminar Usuario",Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{children:["\xbfEst\xe1s seguro que deseas eliminar al usuario ",e.user.email,"?"]}),Object(i.jsx)("button",{className:"btn btn-danger",onClick:function(){return m(e.staff_id)},children:"Eliminar"})]}))};return Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)(Aa,{title:"Usuarios",onClick:function(){p("Agregar Usuario",Object(i.jsx)(Ha,{}))}}),Object(i.jsxs)("div",{className:"card p-2 no-scale shadow",children:[Object(i.jsx)("input",{type:"text",className:"form-control mt-1",placeholder:"Buscar por nombre o correo electr\xf3nico...",value:o,onChange:function(e){return d(e.target.value)}}),Object(i.jsx)(_a,{headers:["Nombre","Correo Electr\xf3nico","Rol","Acciones"]}),Object(i.jsx)("div",{className:"container-fluid mb-3",children:function(){if(Array.isArray(b))return b.map((function(e){return Object(i.jsx)(za,{user:e,editUser:O,deleteUser:f},e.user_id)}))}()}),Object(i.jsx)(ha,{modifier:c})]})]})},Za=function(e){var t=e.customer_id,n=qe(),c=Object(a.useContext)(nn),s=c.spinner,r=c.customer,o=c.getCustomer,l=c.createUserNoSignUp,d=c.createCustomer,u=c.setCustomerProperty;Object(a.useEffect)((function(){isNaN(t)?d():o(t)}),[]);var b=function(e){e.preventDefault(),l(r)};return Object(i.jsx)("div",{children:r&&null!==r?Object(i.jsxs)("form",{onSubmit:b,children:[Object(i.jsx)("label",{children:n.admin.users.name}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",value:r.name,onChange:function(e){return u("name",e.target.value)}}),Object(i.jsx)("label",{children:n.admin.users.lastName}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",value:r.last_name,onChange:function(e){return u("last_name",e.target.value)}}),Object(i.jsx)("label",{children:n.admin.users.email}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",value:r.email,onChange:function(e){return u("email",e.target.value)}}),Object(i.jsx)("label",{children:n.admin.users.phone}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",value:r.phone,onChange:function(e){return u("phone",e.target.value)}}),Object(i.jsx)("label",{children:"Instagram"}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",value:r.instagram,onChange:function(e){return u("instagram",e.target.value)}}),Object(i.jsx)("label",{children:n.admin.users.publicity}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",value:r.signup_reason,onChange:function(e){return u("signup_reason",e.target.value)}}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{className:"btn btn-primary",children:s?Object(i.jsx)("div",{className:"spinner-border"}):n.admin.users.saveBtn})}),Object(i.jsx)("div",{className:"col-6 text-right",children:Object(i.jsx)(Ye.a,{to:"/myadmin/customers",className:"btn btn-link text-secondary",children:n.admin.users.cancelBtn})})]})]}):Object(i.jsx)("div",{className:"spinner-border"})})},Qa=function(e){var t=e.user_id,n=qe(),a=n.admin.users.titleAdd,c=n.admin.users.titleEdit;return Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)(Aa,{title:"".concat(isNaN(t)?a:c)}),Object(i.jsx)("div",{className:"card no-scale p-4",children:Object(i.jsx)(Za,{customer_id:t})})]})},Va=function(){return Object(i.jsxs)(Ye.b,{className:"h-100",children:[Object(i.jsx)(pa,{path:"/",default:!0}),Object(i.jsx)(qa,{path:"/staff"}),Object(i.jsx)(va,{path:"/users"}),Object(i.jsx)(Sa,{path:"users/:user_id"}),Object(i.jsx)(Qa,{path:"users/:user_id/edit/"}),Object(i.jsx)(Ia,{path:"/analytics/income"}),Object(i.jsx)(Ta,{path:"/analytics/customers"}),Object(i.jsx)(Ma,{path:"/analytics/products"})]})},Ja=function(e){var t=e.object,n=e.spinner,c=e.modifier,s=e.questions,r=e.saveAction,o=e.hideButtons,l=e.handleCancel;Object(a.useEffect)((function(){Array.isArray(s)&&u()}),[s]);var d=qe(),u=function(){s.filter((function(e){return"select"===e.type})).forEach((function(e){if(!t[e.id]||void 0===t[e.id]||null===t[e.id]){var n=e.options;if(Array.isArray(n)&&n.length>0){var a=n[0];void 0!==a&&null!==a&&c(e.id,a.value)}}}))},b=function(e){return e.map((function(e){var t=e.value,n=e.label;return Object(i.jsx)("option",{value:t,children:n},t)}))},j=function(e){var n=e.id,a=e.type,s=e.label,r=e.required,o=e.options;return"select"===a?Object(i.jsx)("select",{value:je(t,n),className:"form-control",onChange:function(e){return c(n,e.target.value)},children:b(o)}):"boolean"===a?Object(i.jsxs)("label",{className:"d-flex align-items-center",children:[Object(i.jsx)(oa.a,{checked:!0===je(t,n),className:"me-2",onChange:function(e){return c(n,e)}}),s]}):"textarea"===a?Object(i.jsx)("textarea",{rows:"4",id:n,name:n,required:r,value:je(t,n),className:"form-control mb-3",onChange:function(e){return c(n,e.target.value)}}):Object(i.jsx)("input",{id:n,name:n,type:a,required:r,value:je(t,n),className:"form-control",onChange:function(e){return c(n,e.target.value)}})};return Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"function"===typeof r&&r(t)},children:[Object(i.jsx)("div",{className:"row",children:function(){if(Array.isArray(s)&&null!==t){var e=Object(Ve.a)(s);return(e=e.filter((function(e){return e.precondition&&!e.precondition(t)?null:e})).filter((function(e){return null!==e}))).map((function(e){return Object(i.jsxs)("div",{className:e.className?e.className:"col-12 mb-3",children:["boolean"!==e.type&&Object(i.jsx)("label",{htmlFor:e.id,className:"form-label mb-0",children:e.label}),j(e)]},e.id)}))}}()}),function(){if(!o)return Object(i.jsxs)("div",{className:"row mt-3",children:[Object(i.jsx)("div",{className:"col-6 text-end",children:Object(i.jsx)("button",{type:"button",onClick:l,className:"btn w-100 text-muted px-0",children:d.form.cancel})}),Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{type:"submit",disabled:n,className:"btn w-100 btn-primary",children:n?Object(i.jsx)("div",{className:"spinner-border"}):d.form.confirm})})]})}()]})},Ka=function(e){var t=e.handleCancel,n=qe(),c=Object(a.useContext)(Qe),s=c.spinner,r=c.conversation,o=c.saveConversation,l=c.setPropertyConversation,d=[{id:"name",type:"text",required:!0,label:n.conversation.form.name}];return Object(i.jsx)(Ja,{spinner:s,object:r,questions:d,handleCancel:t,saveAction:o,modifier:l})},Xa=function(e){var t=e.conversation,n=e.link,c=e.handleCallback,s=Object(a.useContext)(Ae),r=s.clearModal,l=s.modalComponent,d=Object(a.useContext)(Qe),u=d.setConversation,b=d.saveConversation,j=d.deleteConversation,m=t.conversation_id,h=n?"".concat(n,"/").concat(m):"/conversations/".concat(m),p=function(){u(null),r()};return Object(i.jsxs)("div",{className:"card position-relative bg-light mb-3 my-3",style:{height:"130px"},children:[Object(i.jsxs)("div",{className:"card-body pb-2 position-relative",children:[t.name,Object(i.jsx)("div",{className:"col-6 pe-2 mb-1 w-100",children:function(){if(null!==t.tags)return String(t.tags).split(",").map((function(e,t){if(t<=2)return Object(i.jsx)("span",{className:"badge badge-pill bg-accent me-1",children:e},e)}))}()})]}),Object(i.jsxs)("div",{className:"card-footer bg-light border-0 pb-3",children:[Object(i.jsx)("button",{onClick:function(){b(Object(o.a)(Object(o.a)({},t),{},{archived:!t.archived}))},className:"btn btn-sm btn-round border",children:Object(i.jsx)("i",{className:"fa fa-archive"})}),Object(i.jsx)("button",{onClick:function(){u(t),l("Edit Conversation",Object(i.jsx)(Ka,{handleCancel:p}))},className:"btn btn-sm btn-round border ms-2",children:Object(i.jsx)("i",{className:"fa fa-edit"})}),Object(i.jsx)("button",{onClick:function(){l("Delete Conversation",Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:"Are you sure you want to delete this conversation? This action CANNOT be reversed."}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{onClick:r,className:"btn w-100 text-muted",children:"Cancel"})}),Object(i.jsx)("div",{className:"col-6",children:Object(i.jsxs)("button",{onClick:function(){return j(t.conversation_id)},className:"btn w-100 btn-danger",children:[Object(i.jsx)("i",{className:"fa fa-trash me-2"}),"Delete"]})})]})]}))},className:"btn btn-sm btn-outline-danger btn-round ms-2",children:Object(i.jsx)("i",{className:"fa fa-trash"})})]}),Object(i.jsx)(Ye.a,{to:h,onClick:function(){"function"===typeof c&&c()},className:"btn btn-primary btn-view",children:Object(i.jsx)("i",{className:"fa fa-comments"})})]})},$a=function(e){var t=e.size,n=e.searchable,c=e.handleCallback,s=e.link,r=qe(),o=Object(a.useContext)(Qe).conversations;return Object(i.jsx)("div",{className:"row h-max align-items-start",style:{overflowY:"auto",height:"max-content"},children:function(){if(Array.isArray(o)){if(0===o.length)return Object(i.jsx)("p",{children:r.conversations.empty});var e=Object(Ve.a)(o);return n&&(e=e.slice(0,5)),e.map((function(e){return Object(i.jsx)("div",{className:"lg"===t?"col-12 px-0":"col-12 col-md-6 col-xl-4 position-relative ps-0",style:{height:"max-content"},children:Object(i.jsx)(Xa,{conversation:e,handleCallback:c,link:s})},e.conversation_id)}))}}()})},ec=function(){var e=qe(),t=Object(a.useContext)(Ae).modalComponent,n=Object(a.useContext)(Qe),c=n.clearModal,s=n.createConversation;return Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsxs)("button",{className:"btn btn-outline-primary",onClick:function(){s(),t(e.conversations.add,Object(i.jsx)(Ka,{handleCancel:c}))},children:["+ ",e.conversations.button]})})},tc=function(e){var t=e.tag,n=Object(a.useState)(""),c=Object(l.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)(""),d=Object(l.a)(o,2),u=d[0],b=d[1],j=Object(a.useState)(!1),m=Object(l.a)(j,2),h=m[0],p=m[1],O=Object(a.useContext)(Pn).setSelected,f=Object(a.useState)(""),x=Object(l.a)(f,2),v=x[0],g=x[1],y=qe(),N=(Object(a.useContext)($t).user,Object(a.useContext)(Qe)),A=N.getConversations,C=N.getAllTags,w=(N.tags,N.conversation),E=window.location.pathname.includes("/conversation/tags/");window.location.pathname;Object(a.useEffect)((function(){E&&t?A({query:s,sortBy:u,archived:h,tags:t}):E||(A({query:s,sortBy:u,archived:h}),C({query:s}),O("Fetch"))}),[s,h,u,t]),Object(a.useEffect)((function(){C({query:s})}),[w]);return Object(i.jsxs)("div",{className:"container-fluid bg-white p-4 card position-relative h-100",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-6 mb-2 col-md-12 col-xl-4 ps-0",children:Object(i.jsx)("h1",{className:"mb-0 h2 text-capitalize text-gradient d-inline-block",children:y.conversations.title})}),Object(i.jsx)("div",{className:"col-6 mb-2 text-end justify-content-end show-mobile pe-0",children:Object(i.jsx)(ec,{filter:v,sortBy:u,setSortBy:b,setFilter:g,viewArchived:h,setViewArchived:p,isTagsPath:E})}),Object(i.jsx)("div",{className:"col-12 mb-2 col-md-12 col-xl-8 px-0",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 col-md-8 px-0",children:Object(i.jsx)("input",{type:"text",value:s,className:"form-control",placeholder:y.conversations.search,onChange:function(e){return r(e.target.value)}})}),Object(i.jsx)("div",{className:"col-12 col-md-4 hide-mobile",children:Object(i.jsx)(ec,{filter:v,sortBy:u,setSortBy:b,setFilter:g,viewArchived:h,setViewArchived:p,isTagsPath:E})})]})})]}),Object(i.jsx)($a,{})]})},nc=["#f7f7f7","#fff"],ac=["#212529","#000"],cc=["#E4F1F1","#047786"],sc=function(){var e=Object(a.useContext)($t),t=e.user,n=e.updateUser;Object(a.useEffect)((function(){null!==t&&(t.dark_mode?(document.documentElement.style.setProperty("--light",ac[0]),document.documentElement.style.setProperty("--white",ac[1]),document.documentElement.style.setProperty("--body",nc[0]),document.documentElement.style.setProperty("--dark",nc[0]),document.documentElement.style.setProperty("--black",nc[1]),document.documentElement.style.setProperty("--muted",nc[1]),document.documentElement.style.setProperty("--accent-light",cc[1])):(document.documentElement.style.setProperty("--light",nc[0]),document.documentElement.style.setProperty("--white",nc[1]),document.documentElement.style.setProperty("--body",ac[0]),document.documentElement.style.setProperty("--dark",ac[0]),document.documentElement.style.setProperty("--black",ac[1]),document.documentElement.style.setProperty("--muted",ac[1]),document.documentElement.style.setProperty("--accent-light",cc[0])))}),[t]);return[null!==t&&t.dark_mode,function(e){n(Object(o.a)(Object(o.a)({},t),{},{dark_mode:e}),null,!0)}]},rc=function(){var e=Object(a.useContext)($t),t=e.user,n=e.signOut,c=qe();return Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{id:"navbarDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",className:"btn small mt-2 w-100 text-left text-dark px-3",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-2",children:Object(i.jsx)("i",{className:"fas fa-user"})}),Object(i.jsxs)("div",{className:"col-10 d-flex justify-content-between",children:[t.name,Object(i.jsx)("span",{className:"dropdown-toggle",style:{marginInlineEnd:"10%"}})]})]})}),Object(i.jsxs)("ul",{className:"dropdown-menu bg-white border","aria-labelledby":"navbarDropdown",children:[Object(i.jsx)("li",{className:"my-1",children:Object(i.jsx)(Ye.a,{to:"/settings",className:"dropdown-item hover-success text-dark",children:Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsx)("div",{className:"col-2 me-2",children:Object(i.jsx)("i",{className:"fa fa-cog"})}),Object(i.jsx)("div",{className:"col-10",children:c.menu.settings})]})})}),Object(i.jsx)("li",{className:"my-1",children:Object(i.jsx)("button",{className:"dropdown-item w-100 btn-sm hover-danger text-danger",onClick:n,children:Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsx)("div",{className:"col-2 me-2",children:Object(i.jsx)("i",{className:"fa fa-sign-out-alt"})}),Object(i.jsx)("div",{className:"col-10",children:c.menu.logout})]})})})]})]})},ic=function(){var e=Object(a.useContext)(Pn).adminTabs;return Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{id:"navbarDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",className:"btn small my-2 w-100 text-left text-dark px-3",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-2",children:Object(i.jsx)("i",{className:e.admin.icon})}),Object(i.jsxs)("div",{className:"col-10 d-flex justify-content-between",children:[e.admin.name,Object(i.jsx)("span",{className:"dropdown-toggle",style:{marginInlineEnd:"10%"}})]})]})}),Object(i.jsx)("ul",{className:"dropdown-menu bg-white border","aria-labelledby":"navbarDropdown",children:e.admin.tabs.map((function(e){return Object(i.jsx)("li",{className:"my-1",children:Object(i.jsx)(Ye.a,{to:e.link,className:"dropdown-item hover-success text-dark",children:Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsx)("div",{className:"col-2 me-2",children:Object(i.jsx)("i",{className:e.icon})}),Object(i.jsx)("div",{className:"col-10",children:e.name.en})]})})},e.link)}))})]})},oc=function(){var e=Object(a.useContext)(Pn).adminTabs;return Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{id:"navbarDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",className:"btn small my-2 w-100 text-left text-dark px-3",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-2",children:Object(i.jsx)("i",{className:e.analytics.icon})}),Object(i.jsxs)("div",{className:"col-10 d-flex justify-content-between",children:[e.analytics.name,Object(i.jsx)("span",{className:"dropdown-toggle",style:{marginInlineEnd:"10%"}})]})]})}),Object(i.jsx)("ul",{className:"dropdown-menu bg-white border","aria-labelledby":"navbarDropdown",children:e.analytics.tabs.map((function(e){return Object(i.jsx)("li",{className:"my-1",children:Object(i.jsx)(Ye.a,{to:e.link,className:"dropdown-item hover-success text-dark",children:Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsx)("div",{className:"col-2 me-2",children:Object(i.jsx)("i",{className:e.icon})}),Object(i.jsx)("div",{className:"col-10",children:e.name.en})]})})},e.link)}))})]})},lc=function(e){var t=[];return je(e,"avatars_enabled","boolean")&&t.push({link:"/avatars",name:{en:"Avatars",es:"Avatares"},icon:"fa fa-users me-2"}),je(e,"super_fetch","boolean")&&t.push({link:"/super-fetch",name:{en:"Super Fetch",es:"Super Fetch"},icon:"fa fa-bolt me-2"}),je(e,"templates_enabled","boolean")&&t.push({link:"/templates",name:{en:"Templates",es:"Plantillas"},icon:"fa fa-shapes me-2"}),t},dc=function(){sc();var e=Object(a.useContext)($t).user,t=Object(a.useContext)(Qt),n=(t.fetch_icon_url,qe().lang);return Object(i.jsxs)("div",{className:"sidebar bg-white d-flex flex-column  overflow-y-auto",children:[Object(i.jsx)("img",{src:je(e,"dark_mode",!0)?je(t,"dark_logo"):je(t,"light_logo"),style:{maxWidth:"120px"},className:"my-4 d-block w-100 mx-auto",alt:"logo"}),Object(i.jsxs)("div",{className:"sidebar-menu",children:[Object(i.jsx)(Ye.a,{to:"/",className:"btn small w-100 my-2 text-dark text-left",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-2",children:Object(i.jsx)("i",{className:"fa fa-comments"})}),Object(i.jsx)("div",{className:"col-10",children:"Strategies"})]})}),function(){var e=lc(t);if(Array.isArray(e))return e.map((function(e){return Object(i.jsx)(Ye.a,{to:e.link,className:"btn small w-100 my-2 text-dark hover-success text-left",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-2",children:Object(i.jsx)("i",{className:e.icon})}),Object(i.jsx)("div",{className:"col-10",children:e.name[n]})]})},e.link)}))}(),function(){if(e.staff&&null!==e.staff)return Object(i.jsxs)("div",{children:[Object(i.jsx)(ic,{}),Object(i.jsx)(oc,{})]})}(),Object(i.jsx)(rc,{})]})]})},uc=function(e){var t=e.titleGradient,n=qe(),c=Object(a.useContext)(Qe).conversation,s=Object(a.useContext)(Ae),r=s.clearModal,o=s.modalComponent,l=function(){o(n.conversation.edit,Object(i.jsx)(Ka,{handleCancel:r}))};return Object(i.jsxs)("div",{id:"conversation-header",className:"row mx-0 align-items-center p-2 pt-3",children:[Object(i.jsx)("div",{className:"col-6 col-md-6",children:function(){if(c&&null!==c)return Object(i.jsx)("h1",{className:"h5 bold ".concat(t?"text-gradient":"","  d-inline-block mb-0"),children:c.name})}()}),Object(i.jsx)("div",{className:"col-6 col-md-6 text-end",children:function(){if(c&&null!==c)return Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"button",onClick:l,className:"btn border btn-round btn-sm",children:Object(i.jsx)("i",{className:"fa fa-edit"})})})}()})]})},bc=function(e){var t=e.spinner,n=e.handleSubmit,c=e.addGenerateBtn,s=e.handleGenerateBtn,r=Object(a.useRef)(null),o=Object(a.useRef)(null),d=qe(),u=Object(a.useState)([]),b=Object(l.a)(u,2),j=b[0],m=b[1],h=Object(a.useState)([]),p=Object(l.a)(h,2),O=p[0],f=p[1],x=Object(a.useState)(!1),v=Object(l.a)(x,2),g=v[0],y=v[1],N=Object(a.useContext)(ht),A=N.prompt,C=N.setPrompt;Object(a.useEffect)((function(){return he(),function(){C("")}}),[]),Object(a.useEffect)((function(){o.current.style.height=""===A?"0px":o.current.scrollHeight+"px"}),[o,A]),Object(a.useEffect)((function(){if(null!==j&&j.length>0){for(var e=[],t=[],n=function(n){var a=j[n],c=new FileReader,s=new Promise((function(t,s){c.readAsDataURL(a),c.onload=function(a){var c=a.target.result;e.push({src:c,index:n}),t()}}));t.push(s)},a=0;a<j.length;a++)n(a);Promise.all(t).then((function(){f(e),y(!1)}))}}),[j]);return Object(i.jsxs)("div",{id:"message-input",className:"card p-2 w-100",children:[function(){if(O.length>0)return Object(i.jsx)("div",{className:"mt-2 ms-2 mb-3 reply",children:O.map((function(e){var t=e.src,n=e.index;return Object(i.jsxs)("div",{className:"position-relative d-inline-block",children:[Object(i.jsx)("img",{src:t,className:"mx-2 br-10",style:{width:50,height:50,objectFit:"contain"}}),Object(i.jsx)("button",{style:{position:"absolute",top:-15,right:-5},className:"btn text-danger",onClick:function(){return function(e){var t=Object(Ve.a)(j);t.splice(e,1),m(t)}(n)},children:Object(i.jsx)("i",{className:"fa fa-times"})})]},n)}))})}(),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n({prompt:A,files:j}),C("")},className:"row",children:[Object(i.jsx)("div",{className:"container-fluid mb-3",children:Object(i.jsx)("textarea",{type:"text",ref:o,value:A,className:"form-control",placeholder:d.conversation.input.placeholder,onChange:function(e){return C(e.target.value)}})}),Object(i.jsxs)("div",{className:"col-6",children:[Object(i.jsxs)("button",{type:"button",onClick:function(){r&&null!==r&&r.current.click()},className:"btn btn-sm px-3 \n            btn-outline-primary me-2",children:[Object(i.jsx)("i",{className:"fas fa-image"})," "]}),Object(i.jsx)("input",{type:"file",ref:r,onChange:function(e){var t=e.target.files;m(t)},style:{height:0,width:0,visibility:"hidden"}}),Object(i.jsxs)("button",{type:"button",onClick:s,className:"".concat(c?"":"d-none"," btn btn-sm px-3 \n            btn-outline-primary me-2"),children:[Object(i.jsx)("i",{className:"fa fa-arrow-left me-2"}),"Back"]})]}),Object(i.jsx)("div",{className:"col-6 text-end",children:Object(i.jsx)("button",{type:"submit",disabled:t||g||String(A).length<10,className:"btn btn-primary ps-2",children:t?Object(i.jsx)("div",{className:"spinner-border"}):Object(i.jsxs)("span",{children:[Object(i.jsx)("i",{className:"fa fa-paper-plane me-2"}),d.conversation.input.send]})})})]})]})},jc=function(e){var t=e.message,n=(e.handleCallback,Object(a.useContext)(Ae)),c=n.success,s=n.alert,r=(n.clearModal,n.modalComponent,Object(a.useContext)(Qt).S3_ENDPOINT),o=(Object(a.useContext)(ht).saveMessage,Object(a.useState)("")),d=Object(l.a)(o,2),u=d[0],b=d[1],j=Object(a.useState)(!1),m=Object(l.a)(j,2),h=m[0],p=(m[1],Object(a.useState)(!1)),O=Object(l.a)(p,2),f=O[0],x=O[1],v=Object(a.useRef)(null),g=qe(),y=g.formatDateTime;Object(a.useEffect)((function(){f&&c(g.general.clipboard)}),[f]);return Object(i.jsxs)("div",{className:"card p-3 mb-3 message-card ".concat("assistant"===t.role?"ms-0 me-auto bg-accent-light":"ms-auto me-0 bg-light"),children:[Object(i.jsxs)("div",{"data-color-mode":"light",ref:v,children:[function(){if(t.file&&null!==t.file)return Object(i.jsx)("img",{src:"".concat(r,"/").concat(t.file.name,".").concat(t.file.type),className:"mw-100 w-100 d-block m-auto mb-3"})}(),function(){if(h)return Object(i.jsx)("textarea",{rows:"10",type:"text",value:u,className:"form-control mb-3",onChange:function(e){return b(e.target.value)}});if(null===t.content)return g.conversation.message.pending;t.content;return String(t.content)}()]}),Object(i.jsxs)("div",{className:"row align-items-center px-0 mt-3",children:[Object(i.jsx)("div",{className:"col-12 col-md-6 px-0",children:Object(i.jsx)("p",{className:"small mb-0 text-muted",children:y(t.createdAt)})}),Object(i.jsx)("div",{className:"col-12 col-md-6 text-end",children:"user"!==t.role&&Object(i.jsx)("button",{onClick:function(){var e=v.current;if(e){e.style.backgroundColor="white";var t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n);try{document.execCommand("copy")}catch(a){s("Unable to copy content to clipboard. Please copy manually.")}finally{t.removeAllRanges(),x(!0),e.style.backgroundColor="inherit"}}},"data-bs-toggle":"tooltip","data-bs-placement":"top",title:g.conversation.message.copy,className:"btn border-0 btn-round btn-sm btn-outline-dark",children:Object(i.jsx)("i",{className:"fa fa-copy"})},"copy")})]})]})},mc=function(e){var t=e.handleGenerateBtn,n=e.conversation_id,c=e.addGenerateBtn,s=e.titleGradient,r=Object(a.useRef)(null),o=Object(a.useState)(1),d=Object(l.a)(o,2),u=d[0],b=d[1],j=Object(a.useState)(!0),m=Object(l.a)(j,2),h=m[0],p=m[1],O=Object(a.useState)(!1),f=Object(l.a)(O,2),x=f[0],v=f[1],g=qe(),y=Object(a.useContext)(Qe),N=y.conversation,A=y.setConversation,C=y.getSingleConversation,w=Object(a.useContext)(ht),E=w.max,S=w.messages,_=w.generating,k=w.saveMessage,P=w.clearMessages,I=w.getConversationMessages;Object(a.useEffect)((function(){return T(),C(n),function(){A(null),window.removeEventListener("resize",(function(){}))}}),[]),Object(a.useEffect)((function(){P()}),[n]),Object(a.useEffect)((function(){he(),h&&R()}),[S]),Object(a.useEffect)((function(){M()}),[N]);var T=function(){window.screen.width>=1200?v(!1):v(!0),window.addEventListener("resize",(function(){window.screen.width>=1200?v(!1):v(!0)}))},M=function(){I(n,{page:u})},R=function(){var e,t=r.current;null===(e=r.current)||void 0===e||e.scrollTo({top:h?10*t.offsetHeight:t.offsetHeight*S.length*2}),h&&p(!1)},D=function(e){var t=e.prompt,a=e.files;k({content:t,conversation_id:n,files:a},M)},U=function(){if(Array.isArray(S)&&S.length<=E)return Object(i.jsx)("div",{className:"d-flex mt-3 justify-content-center",children:Object(i.jsx)("span",{className:"border bg-accent badge badge-pill mb-3 m-auto d-inline-block",children:g.conversation.max_messages})})},Y=function(){if(Array.isArray(S))return S.map((function(e,t){return Object(i.jsx)(jc,{message:e,handleCallback:M,prevMessage:S[t-1]},e.message_id)}))},B=function(){if(_)return Object(i.jsx)("div",{className:"loading mb-3",children:Object(i.jsx)("span",{children:"Hold tight, Fetch is working on your instruction"})})},L=function(){if(!_&&Array.isArray(S)){var e=S[S.length-1];if(e&&null!==e&&"length"===e.finish_reason)return Object(i.jsxs)("button",{className:"btn border",onClick:function(){return D("Continue generating last response")},children:[Object(i.jsx)("i",{className:"fa fa-forward me-2"})," ",g.conversation.continue]})}};return Object(i.jsx)("div",{id:"conversation",onScroll:function(){0===r.current.scrollTop&&Array.isArray(S)&&S.length<E&&b(u+1)},className:" h-100 d-flex row justify-content-around",style:{overflowY:"auto",overflowX:"hidden"},children:function(){var e=!0;if(x&&(e=!1),e)return Object(i.jsxs)("div",{className:"position-relative h-100 d-flex card flex-column flex-nowrap align-items-center px-0",style:{order:1},children:[Object(i.jsx)(uc,{titleGradient:s}),Object(i.jsx)("div",{className:"row overflow-hidden position-relative",style:{flex:1},children:Object(i.jsxs)("div",{id:"messages",ref:r,className:"px-4 h-100",children:[U(),Y(),B(),L()]})}),Object(i.jsx)(bc,{spinner:_,handleSubmit:D,addGenerateBtn:c,handleGenerateBtn:t})]})}()})},hc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVMAAAC6CAYAAAATd66KAAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAVOgAwAEAAAAAQAAALoAAAAAHHYTVwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAAFatJREFUeAHtnVt2Gze2hoGiHD/GM7D41rGzVqtHYJ0RRGcEZmKf59YZQeQRhP2c2K4eQegRhD2CUGu147yRmoH6MY5Y6A0UKVEU73UDUF+tZYusCy4fwL9w2dhQigMCEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCDQCgK6Fbkkk0ETGP+ld6yOjo63ZaL775+G2+7hOgSqIoCYVkWWcAsRGD//rqeMPpNAvtk7IK3+o5QeKWOu3V+dTZROJuroZtQdpXKOAwLlE0BMy2dKiAUJjJ+9GkgQ+4voLvHOhVaZkcrMRHWSES3aXcBxzzYCiOk2QlyvlcD4q1dnSqufa400j+xSGTVSVmQR2Abwhx8lYhp+GUaVg/FX350rrX/wIlNa/8uJa6aG6vF0yBCBF6XibSIQU2+Lpp0JGz//vxNlsl89zf2ltJqHCnH1tHiaTRZi2ix/Yl9BYPz89VAmj16suOTbKcTVtxJpMD2IaYPwiXo1Adc6VZkIqvpy9R2enrXDAlk2UEln2P34o4y/crSJAGLaptIOKK8z06j3ASV5OalX8jIYyskB463LaOL8jpjGWa5R5MqryajiRD8obQZqmg27v6eT4sERgm8EEFPfSoT03CMwfvb6QmbUv793MvwvYoZlUploGyCs4RfmPAeI6ZwEf70lEEGXfxNbhHUTnYCuIaYBFVabk+qM+RMlrbnAJqX2KzSEdT9eXt2NmHpVHCRmE4GZDWoq9/x1031RXHMLBrJUPZKhAPwJBFGkiGkQxUQi5wTGJ70n6o9OX4znX87PRf/XqH9KHgfdT2+tzwIOTwkgpp4WDMnaTKAl3f5lCFfyEhGLgGmfiatlNM1/R0ybLwNScCAB5+e0cyTjqEGsljowl2semw0DdD++S9fcwemaCSCmNQMnuvIJOHvURF9EPjm1GpxzKSgTc7RWV/Op8SxiWiNsoqqOgBtL/dxJJYZvqovF85DdclbTZ2y1mXJCTJvhTqwVERh//fpUnD6nEvzTiqIIIVhZymr66nGWYglQX3EhpvWxJqYaCbiVU9qct7LrP+dshwAymbAy0wsmrOZQqvuLmFbHlpAbJtBKM6p1zK15VUenbNGyDlDx84hpcYaE4DkBN+ufiG1qm8dT52Vkx1W1ukBU50DK+4uYlseSkDwn4MZTjZJZ/xaaUi2XDaK6TKTwd8S0MEICCI0AorpQYojqAoxiHxHTYvx4OmACiOpC4SGqCzAO+4iYHsaNpyIi4ByoZJnsitqi9f7ryg9RXUdm63nEdCsibmgLgXx5audc8ttrtUmVLXA7+49J1V5VHzHdCxc3t4FAblKV9JTWVljbbPwv2ddv1Bc3fYz/t9d8xHQ7I+5oMQHnnUpLS7XNZlVu/b85x6nK5h8CYrqZD1ch4AjktqpHPen/yr+WtlbteKrSIqpsY+0qxdJ/iOkSEL5CYBsBZwUwFVFN1Fk7x1bp+q+qI4jpKiqcg8COBFo8DHClEt1jJdVdRUFM71jwCQIHE5j5ATiVAM5a1WLV6h/qkThSYZ8qsazjgAAESieQLwgwdhjgVAKPfQNA2U4lOWv7WCpiWvrPiAAhcJ9Abr+aiJ9VfSrNl1O5Gqm5lX7T/e2nC8lfKw/EtJXFXjzTbtWQNk/UNDuRVskTF6IxxzKOdnwbemYmYqs5uf2eqKH7fHQzanO38HZIQGthZ8XVnEQzkWVn/B/dnLWxfBHT2186H9YRyGevrWhKy0qpY/lXvNvqbBf1SIRk9q8zanM30QnszdHJ3ctJBFbrJ+Lhyr6oivOWQGo8WtntR0xrrGGhROW6pTIGNhPP+vZUsgJrpPVqzFAlnWGbxXVdXZm1avvSon257h4vzrfQ0B8x9aLmNZ+IBQHtSWr8aAnZH6TddiMRcX2UDdrYdVysGWFuxdKecVTEdLG2tvDz+Pl3PaWSXhAOk+14XJYNlBFh/T2dtKW4XBkZ2co61IkrcZoiO6b2Yi8vxDT2El6Rv3x2OXjvSJfS1R3KiyCNcTgg787LSy4WZystEFTEdIXYNHkq9605FROa2Qx52YmxM+6+j7ftn2eZ8JDhgAiENZIX3eoSjFxQEdPVxd7I2fHzV32ZgPl7I5HHE2kurFoPQlrqOOvKn0kx1Dfh10SZRyyoiGkTFWpFnM78KDO/rLjEqUMJzCewlBrImJ20XP063Lr+ti0/tUUQqaAipp78vtxMrTLfe5Kc+JIxF9YGLQNujfXbKKAPalR8s/yI6YNCbuYEYlozd2sZYG1aZVVWVcMBublZ50TiOJW4TiWHfpic1Yx6bXTafBuTw2nEdG1J13vBTTyZ7Nd6YyW2WwLO7Gq2/HWPZa+3K5dsQJkIpl1iq2SZaExLRG8hVfBBJ3+LxRoDMa2gfhwa5GwS4v2hz/McBEoikE/iZdJy7+hrF6bJjp2jlrIdYtvhl+n0JAa7YcR0VvtmTn4v5GuRrtilOPo4L9JtdF3Do6PjWbLC/GNbaG3e3iPMUrOp3urw2bXEPx+dS/mWOb5/qb6Ynoa+wg0xlRpUeosw0f9TRFDD/S3epTz/0XVGcubp3Vk+eUtAZtjV4+n5roLmhqVUNpSx4C9LyVMEM/xJKSBCDyRfqldeLjIjb+52H+5Hqc1FuykEkvuZkO0qpDZX+ThnImPE0k0v45CFJK5RU0ZYDYVx1FC8vkVbbuvJuk7jkHmYZCJr/iHhN4FL2yJdTuLtIoJ5Xba+aTs6XexxWUEV++gzKeNflp8/7LvuS4s3WFeMtEzzUr86rPDXPGXM9Zor7TptJy04/CZgx/gX9m+ywzPjZ69Gyuj3kvBvnAMcY164JciyqMSt0lvIkRNXO0RQxmGHDEyWlhFUE2Egppa6UQ/ezIUKQycXhZ6P4GE3Zlr28EkEXLzKgnTRF1uaLm2fO0P5u34SVpY7j7/6bvn3MigxX3/Nba5LDLGmoJiAmoF2s/nyli7E3bZIRUjLtJvLu1vJcaF01f2ws7VUvdImJ+pOf5viy6bduVmSE0mtf9iafTtOqvXZXIgrWXASoP0pYrq15jR3gwh8GqGHp+aAEvMqAmJTaicKZaHBvk52bPc+Udd7P7cqFQ/PXXZ/e3vy8LS/ZxBTT8sGIfW0YEhWfQQCW26KmNZXNXaOCSHdGRU3xkzADic8mh4vTpD5nF0moDwrHYTUswIhOc0RsLP7brVVc0nYJ2ZapvvQqvhehLRiwAQfHoGAWqe0TD2pXm7WPr7tRDyhSzKCJRBQ6xQx9aCWzVabWCNpDghA4AEB03twysMTiGnDhZL7MXWrTRpOCdFDwFsCT2UI7Mzb1M0Shpg2WELO3Z71vMMBAQhsI4CYbiPU1utuuWXSGbBKqK01gHzvRcA6pfb8oGXaVAH90elL1OvXQDeVLuKFgI8EZCIq96HqY+LyNCGmDZRNvgZavWwgaqKEQMAEpic+J94bf6burZM7yPCZV/G0TWXDNa22O5MoHhMhQCAuAsZvhz9eiKkzVjfZSxk/jP9gmUT8ZUwOW0mg8W4+Xd5W1jsyDYHoCDQupipJvJ+li67UyRAEIFA6gebFtPQsESAEIBAlAZNd+5yv5sU0ywY+AyJtEIBAKQSuJBT7b/fDOjlZPDrJaPGrb58bF9Pup3d92QLhX76BIT0QgECJBMSbv3jOP1ayTYp49v9WJpv/6X73y4KZC+4Hd49S6UIKrubbpCyc8+qjN3PL+Rp1w/ipV9WDxDgCxhyzfUzBumDU/3Y/vd25FypbSJ8q2Q31Llb9pvvbTxd33/375IVplMUy24TO62a8f8VHiuoiIC/7vmxD/Gtd8UUXj5Y9ppTaSUzzhtW94b8r9cVN33cmjXfzfQdE+iBgCbiXfVn7w7cS6W5u9FyL1Dr/sX5M50eieyFsXYKYzguMvxDYRkDrybZbuL6WwFY3em7LaNu1XxRSu6nev38arg3VowuIqUeFQVI8J9CG5c5VFkGiUteFX4rDOkcfP3s1Ucp8f3vJTkzZcdaP79Lbc55/8GYCynNOJK/lBHIRWOp+tpzJwdnPZ/InKp/YO5Vwnt4Ly1r3TG963d/Tyb3znn9BTEssoHy8p8QACcoPAsZZmfTudT/9SFlsqbgSk6iLkFqjiwWAmC7SKPCZnUULwOPRthP4IC+qdB/TKR+BeWMa5SOcXdOUb4iHf9JdeXFf6wlciXgOVWKG6lE2CGGmfpcSo2W6C6UN9zw0Lt5wM5cg0BYCbmWTntmNm5Ey+lolIqBHN6NYxHO5KBHTZSJ7fHcb4nU6UlEWbOL2eJ5bIRAdAbc0XJ/PFuFEl71NGUJMN9HZcM1tiPe5M5Rb2MdpAycutZSAnbF/PD2PtRW6qlSxM11FZZdzfx7ZpXEI6S6suKd9BLTMIfzZmTjn7y3JPS3TAwqamfsDoPFImwlcqkS6/oGsZDq0oBDTPcnlM/f6/Z6PcTsEIKDUB3HBdx6aMf6uBYeY7kpK7kNI94DFrRBYS0C/sV6gYhtPRUzXFvj9CywnvM+DbxAoRMCZThmZ9Q9n7f22/CKm2wjJdYR0B0jcAoHDCEQznoqYbqkAMxMoa3x83xnDlue4DAEI7EEgUOcmizlETBdpLH3GlnQJCF8hUDWBgO1TEdMNlUN8LNoWKbakGxhxCQKlE3C+THU/tEkqjPbX1ARnS4qQrqHDaQhUSMAtzxZH0Z87I2dBU2FUZQYdXcu0FJ+iU9mvxq7g4IAABHwgcCVG/z3fjf6jEVO3f4w25zgd8aHukwYIVEDATlJpdeGrqEYhptIlPxPIP1dQfAQJAQj4RsBOUpnphW8rqeIYM5V1v76VN+mBAAQqImCH4JLOePz8Vd9Z3FQUzb7BxiGm++aa+yEAgfAJGPV355nq2esLH0Q1EjEVT94cEIBA+wjMZ/6tuz/ZMrpJAHGMmZ70nogZxVBAYhPaZG3yI27Z4VJPKk2KMS8qDZ/AixBobIfTKMTUknfN/D8SMWlKnhQpCb+eNScysXbaaguFxb2E7CZs9jDZteokeW9E9hbyaYuMlaZ5mZThvcOWq76rp4jzPTqlfGlg5j8aMS2lADwMpCVLWmetyYWN1zwTybqqxj0xnouwNiK8+iRPgwgxe47tXhw1rvlHTHcvlsbudBv3yexlYwkoL+JcNG0L04hwJsnEp1ZledmsPiRXJ46OjtVUhFaL0M4F11jhZbjrQQnUYE6FmD6g7ueJAP0EXEoLaiR98pHrkke8xa+PNeZObDMRWhn6csNFLRfaitf8I6Y+/hJWpEls6q697d65SmrHM2WfdNkb3dcVKiuwtvKU88+bZceuRatk2EAp++9pa2DY+pqZi+6nd/0y84yYlkmzorDcDo9a/1BR8IcEeyXCPlSJGappNvRtJcohGeIZmcT9+vWplOeJrIM/dmO08U+M2Xp83v30dlBG+UcvpvcG9MsgVncYbhJCPOg0e8hYpxqoTAT08XQY2949zaL1O/a8FTs9deKqXQs2PvNDO0mlZPfUjz+OipRG1GLKlswHVw1angeji/vB3ASxc5pPelmzvYhsbgs6po5WTBHSPX/U9u2cZQNZ8zws+obeM2ZuD5yA6/3ZHlQ+yfUi6OwUGE+NTkzdm/PPo0FUb8xqamfe+lTSfafrXg3hlobqvLglttUq/8I109p7o7+oxLQlBu5FfqKXMjY0kC7agNZnEYw8uysBZ6LVSURY9Zk8882uz3lzn1b/UI/E3d8ovd6WpmjEFCFdU9Tz7rvJBsy6r2HE6doILLRarbiGYo61k6f/KMSUfe0f/BY+yIqYgXokArrDG/XB05yAQA0EZr/bXjDDAdp82/34Ll2HJngxRUhvixYBvUXBh9AIuOEAnZzJEFRP0u6v+ZUx/7/O2D9oMc39F8qWsO11/ICAhqYapHcrAc+F9ar729vjVZkIVkydkBr9flWmIj8na95NKm7oGAONvKDJnqzK+kvvWHwL2BbrqfBobgLLmUyJ5cuGvaeCFFMPl1dWXe/zFUjTaZ9JpKpRE76vBHKzRxFWaxlQn5/fS5l/6O8y/xCcmLbGGH/+JuzoFMchvv68SVeTBCpcLHBQ7y8oMW2FkLp1wlm6y5uwyYpM3BDwjcCtuFpPWHYng12WutpGi/V2Zl1FFvQ9EYyYRi6kV1KgqcpuUrrxvv1ESU/oBJzFj3OevZCTm5tJ2b+1IMQ0WiG1jhVkOWdZLsAWqgofIQCBmgl4L6YRCqmsiZcB7cdZikF9zbWd6CBQIQGvxTQqIbWtUCaTKqzKBA2BZgl4K6aRCOkVY6HNVnBih0BdBLwU0+CF1DkXMX3GQuuqxsQDgeYJeCemwQqpM7FQqcKwvvlaTQog0ACBowbiXBtlvrJJvVx7g58XZHWSucAu1M/CIVUQqIuANy3TANfaf5BdHPusTqqrqhIPBPwm4IWYBiOk8yWeG5wd+F3cpA4CEKiKQONiGog/UmxDq6qBhAuBSAg0KqbeC+lsnfwm79qR1AOyAQEIFCTQ2ARUvmeTOPRQ6suCeSj/cQzsy2dKiBCInEBjYqo+d4bC1p/tCRgPjbyqkz0IVEugETF1tqS+CKkVUSNbnzy66bNWvtrKRugQiJlA7WLqkS2psw9lPDTm6k3eIFAfgVonoKRFarcb+Lm+7K2IiUmlFVA4BQEIFCVQm5g2PnNvRVSrC4zsi1YZnocABFYRqKWb3+jMvZ2ZT5J+9+OPsjUBBwQgAIFqCNQipuqPTl9ahfXO3FsRZaVSNbWGUCEAgQcEKhfTfKloTc5L5jPzXzAz/6CkOQEBCFRKoNIxUzdOarJfK82BDRwRrRwxEUAAApsJVNYyXRgn3ZyCYlcxbyrGj6chAIGSCFQmphWPkyKiJVUAgoEABMohUEk3vzJ7UrYDKafUCQUCECidQOli6rr3f3YmypTowAQb0dILngAhAIFyCZTfzf/cSSWJX5aSTMybSsFIIBCAQPUESm2Zjr9+faoy80uhZNuZecXGdIUY8jAEIFA7gXJbpplJC+Tgyu0xj/emAgh5FAIQaIpAaWI6M85/ekBGLmV3T1nu+S494FkegQAEIOAFgdLEVKmkp2TWaecDb/Y7o+JGCEDAfwLliakxL3bIbt6Vz27S7u/pZIf7uQUCEIBAEATKE9N12bUTSpkaqI5OcX+3DhLnIQCB0AmUKKb6jayRP70FYtRQJWqIgN4S4QMEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCEAAAhCAAAQgAAEIQAACEIAABCAAAQhAAAIQgAAEIAABCDRK4L/pzkhM+udB9wAAAABJRU5ErkJggg==",pc=function(){var e=Object(a.useRef)(null),t=qe().lang,n=Object(a.useContext)($t).signOut,c=Object(a.useContext)(Qt),s=Object(a.useContext)(Pn),r=s.userSettingTabs,d=(s.organizationTabs,s.toolsTabs),u=s.adminTabs,b=(s.tabs,s.selected),j=Object(a.useContext)(O),m=j.device,h=j.platform,p=Object(a.useState)({}),x=Object(l.a)(p,2),v=x[0],g=x[1],y=function(n){return n.map((function(n){return Object(i.jsx)("div",{className:"p-2 text-dark hover-accent no-decoration border-top border-bottom",onClick:function(){e.current.click(),Object(Ye.c)(n.link)},children:Object(i.jsxs)("div",{className:"row w-100",children:[Object(i.jsx)("div",{className:"col-1",children:Object(i.jsx)("i",{className:n.icon})}),Object(i.jsxs)("div",{className:"col-11",children:[" ",n.name[t]]})]})},n.link)}))},N=function(e){return Object.keys(e).map((function(t){var n=e[t],a=v[t]||!1;return"Tools"===n.name&&(n.tabs=function(e){var t=[];return je(e,"hashtags_enabled","boolean")&&t.push({link:"/hashtags",name:{en:"Hashtags",es:"Hashtags"},icon:"fa fa-hashtag me-2"}),je(e,"topics_enabled","boolean")&&t.push({link:"/topics",name:{en:"Topics",es:"Temas"},icon:"fa fa-lightbulb me-2"}),je(e,"chatwidget_enabled","boolean")&&t.push({link:"/chat-widget-generator",name:{en:"Chat Widget",es:"Chat Widget"},icon:"fa fa-comment me-2"}),t}(c)),Object(i.jsxs)("div",{style:{paddingLeft:"12px"},className:"text-dark hover-accent no-decoration border-top border-bottom",children:[Object(i.jsxs)("button",{className:"btn text-start text-dark d-flex w-100 ps-2",onClick:function(){return function(e){g((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(f.a)({},e,!t[e]))}))}(t)},children:[Object(i.jsx)("div",{className:"col-1",children:Object(i.jsx)("i",{className:n.icon})}),Object(i.jsxs)("div",{className:"col-11 d-flex justify-content-between",children:[" ",n.name," ",Object(i.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})," "]})]}),a&&y(n.tabs)]},n.name)}))};return Object(i.jsx)("nav",{style:{top:32},className:"navbar navbar-expand-lg navbar-light bg-white text-dark fixed-top border-bottom px-3 show-mobile ".concat(be(m)?"navbar-notch":""),children:Object(i.jsxs)("div",{className:"col-12",children:[Object(i.jsxs)("div",{style:{paddingTop:be(m)?50:0},className:"row mx-0 align-items-center",children:[Object(i.jsx)("div",{className:"col-6 px-0",children:Object(i.jsxs)("div",{className:"navbar-brand py-0 me-auto",children:[" ",Object(i.jsx)("img",{src:hc,alt:"Logo",style:{maxWidth:45},className:"d-inline-block"})," ",b&&Object(i.jsx)("div",{className:"d-inline",children:Object(i.jsx)("span",{className:"ms-2",children:b})})]})}),Object(i.jsxs)("div",{className:"col-6 pe-0 text-end",children:["web"!==h&&Object(i.jsx)("button",{className:"btn me-1",onClick:function(){return Object(Ye.c)("/")},children:Object(i.jsx)("i",{className:"fa fa-home"})}),"web"===h&&Object(i.jsx)("button",{type:"button",ref:e,className:"navbar-toggler","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})})]})]}),Object(i.jsx)("div",{className:"collapse navbar-collapse mw-100 pt-3",id:"navbarNav",children:Object(i.jsxs)("nav",{className:"navbar-nav me-auto text-start",children:[Object(i.jsx)("div",{className:"p-2 text-dark hover-accent no-decoration border-top border-bottom",onClick:function(){e.current.click(),Object(Ye.c)("/conversations")},children:Object(i.jsxs)("div",{className:"row w-100",children:[Object(i.jsx)("div",{className:"col-1",children:Object(i.jsx)("img",{src:hc,alt:"Logo",style:{maxWidth:25,marginLeft:-6},className:"d-inline-block"})}),Object(i.jsx)("div",{className:"col-11",children:"Fetch"})]})}),function(e){return y(e)}(lc(c)),N(d),N(u),N(r),Object(i.jsxs)("button",{className:"btn btn-sm text-start text-danger mx-2 px-0 my-3",onClick:n,children:[Object(i.jsx)("i",{className:"fas fa-sign-out-alt fa-flip-horizontal me-2"})," Log Out"]})]})})]})})},Oc=function(){var e=Object(a.useContext)($t),t=e.updateUser,n=e.user,c=e.getCurrentUser,s=qe(),r=s.lang,l=s.setLang;return Object(i.jsxs)("select",{value:r,onChange:function(e){var a=e.target.value;t(Object(o.a)(Object(o.a)({},n),{},{lang:a}),c,!0),l(a)},className:"form-control text-center",children:[Object(i.jsx)("option",{value:"en",children:"EN - English"}),Object(i.jsx)("option",{value:"es",children:"ES - Espa\xf1ol"})]})},fc=function(){var e=Object(a.useContext)($t),t=e.user,n=e.updateUser,c=(e.setPropertyUser,Object(a.useContext)(Pn).setSelected);return Object(a.useEffect)((function(){c("Settings")}),[]),Object(a.useEffect)((function(){}),[t]),Object(i.jsxs)("div",{className:"container py-3",children:[Object(i.jsx)("h1",{className:"mb-3",children:"Settings"}),Object(i.jsxs)("p",{children:["You need a valid OpenAI API Key to use Tradelize Avatars."," ",Object(i.jsx)(Ye.a,{to:"/tutorials/1",children:"Learn more."})," "]}),Object(i.jsxs)("div",{className:"card p-3 shadow-sm",children:[Object(i.jsxs)("div",{className:"row my-3 align-items-center",children:[Object(i.jsx)("div",{className:"col-12 col-md-6",children:Object(i.jsx)("h4",{children:"Select Language"})}),Object(i.jsx)("div",{className:"col-12 col-md-6",children:Object(i.jsx)(Oc,{})})]}),Object(i.jsxs)("div",{className:"row my-3 align-items-center",children:[Object(i.jsx)("div",{className:"col-12 col-md-6",children:Object(i.jsx)("h4",{children:"Dark Mode"})}),Object(i.jsx)("div",{className:"col-12 col-md-6",children:Object(i.jsx)(oa.a,{checked:t.dark_mode,onChange:function(e){return n(Object(o.a)(Object(o.a)({},t),{},{dark_mode:e}))}})})]}),Object(i.jsxs)("button",{className:"btn btn-primary w-100",onClick:function(){return n(t)},children:[Object(i.jsx)("i",{className:"fa fa-save me-2"})," Save Settings"]})]})]})},xc=function(){var e=Object(Ye.d)(),t=Object(a.useContext)($t),n=t.user,c=t.getCurrentUser;return Object(a.useEffect)((function(){null!==n&&c()}),[e]),Object(i.jsxs)("div",{className:"position-relative pt-5 pt-md-0 container-fluid px-0 px-md-3 d-flex flex-row align-items-center overflow-hidden",style:{height:"98vh"},children:[Object(i.jsx)(dc,{}),Object(i.jsx)(pc,{}),Object(i.jsx)("div",{className:"position-relative content overflow-hidden row flex-column px-0 me-0 flex-nowrap",children:Object(i.jsxs)(Ye.b,{className:"position-relative overflow-hidden",style:{flex:1},children:[Object(i.jsx)(Xn,{path:"/sorry"}),Object(i.jsx)(Va,{path:"/admin/*"}),Object(i.jsx)(tc,{path:"/"}),Object(i.jsx)($n,{path:"/upgrade"}),Object(i.jsx)(ta,{path:"/profile"}),Object(i.jsx)(fc,{path:"/settings"}),Object(i.jsx)(mc,{titleGradient:!0,path:"/conversations/:conversation_id"})]})})]})},vc=n(90),gc=n.n(vc),yc=(n(149),function(){var e=Object(a.useContext)(Qt),t=e.landing_bg_className,n=e.landing_text_className,c=(e.high_ticket_offer_name,function(t){var n=je(e,t);if(n&&null!==n)return String(n).includes("<")?Object(ce.a)(n):n});return Object(i.jsxs)("div",{id:"landing",className:"container-fluid py-5 ".concat(t),children:[Object(i.jsxs)("div",{className:"container position-relative",children:[Object(i.jsxs)("nav",{id:"navbar",className:"navbar px-3 br-10 w-100 my-4 align-items-center mb-2 py-2 shadow ".concat(t),children:[Object(i.jsxs)(Ye.a,{to:"/auth",className:"navbar-brand",children:[Object(i.jsx)("img",{src:je(e,"landing_logo_src"),alt:"Logo",style:{height:60,width:"auto",objectFit:"contain"},className:"d-inline-block"})," "]}),Object(i.jsx)(Ye.a,{to:"/auth",className:"btn btn-primary",children:"Get Started"})]}),Object(i.jsxs)("div",{className:"row hero-section align-items-center",children:[Object(i.jsxs)("div",{className:"col-12 col-md-12 col-lg-7 mb-3",children:[Object(i.jsx)("h1",{className:"".concat(n," display-2 bold"),children:c("title")}),Object(i.jsx)("p",{className:"".concat(n," h3 fw-normal"),children:c("description")}),Object(i.jsx)(Ye.a,{to:"/auth",className:"btn btn-lg px-5 py-2 mt-3 btn-primary",children:"Get Started"})]}),Object(i.jsx)("div",{className:"col-12 col-md-12 col-lg-5 px-0 mb-3 position-relative",children:Object(i.jsx)("img",{src:je(e,"hero_img"),className:"mw-100 w-100 d-block m-auto"})})]})]}),je(e,"about")&&Object(i.jsx)("div",{className:"container mb-4",children:Object(i.jsxs)("div",{className:"card p-4 text-large ".concat(t),children:[Object(i.jsx)("h2",{className:"".concat(n),children:"About Us"}),Object(i.jsx)("p",{className:"".concat(n),children:c("about")}),Object(i.jsx)("p",{className:"".concat(n),children:c("call_to_action")})]})}),Object(i.jsx)("div",{className:"container py-5",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 col-md-12 col-lg-4",children:Object(i.jsx)("div",{className:"card mb-3 p-4 shadow ".concat(t),children:Object(i.jsxs)("div",{className:"card-body p-4",children:[je(e,"features_icons_enabled","boolean")&&Object(i.jsx)("i",{className:"fas fa-2x text-gradient mb-4 fa-camera"}),Object(i.jsx)("h3",{className:"".concat(n," bold"),children:c("feature1_title")}),Object(i.jsx)("p",{className:"".concat(n),children:c("feature1_description")})]})})}),Object(i.jsx)("div",{className:"col-12 col-md-12 col-lg-4",children:Object(i.jsx)("div",{className:"card mb-3 p-4 shadow ".concat(t),children:Object(i.jsxs)("div",{className:"card-body p-4",children:[je(e,"features_icons_enabled","boolean")&&Object(i.jsx)("i",{className:"fas fa-2x text-gradient mb-4 fa-magic"}),Object(i.jsx)("h3",{className:"".concat(n," bold"),children:c("feature2_title")}),Object(i.jsx)("p",{className:"".concat(n),children:c("feature2_description")})]})})}),Object(i.jsx)("div",{className:"col-12 col-md-12 col-lg-4",children:Object(i.jsx)("div",{className:"card mb-3 p-4 shadow ".concat(t),children:Object(i.jsxs)("div",{className:"card-body p-4",children:[je(e,"features_icons_enabled","boolean")&&Object(i.jsx)("i",{className:"fas fa-2x text-gradient mb-4 fa-shapes"}),Object(i.jsx)("h3",{className:"".concat(n," bold"),children:c("feature3_title")}),Object(i.jsx)("p",{className:"".concat(n),children:c("feature3_description")})]})})})]})})]})}),Nc=function(e){var t=e.product,n=e.isHome;return Object(i.jsxs)("div",{className:"card shadow mb-3 ".concat(n?"bg-black text-white":"bg-white"),children:[Object(i.jsxs)("div",{className:"card-header border-0 pt-4 ".concat(n?"bg-black text-white":"bg-white"),children:[Object(i.jsx)("h4",{className:"".concat(n?"text-white":"text-dark"),children:t.name}),Object(i.jsx)("p",{className:"".concat(n?"text-white":"text-dark"),children:t.short_description})]}),Object(i.jsxs)("div",{className:"card-body pt-0",children:[Object(i.jsxs)("h3",{className:"bold text-gradient ".concat(n?"text-white":"text-dark"),children:["$",oe(t.price)," ",Object(i.jsx)("span",{className:"".concat(n?"text-white":"text-muted"),style:{fontWeight:400},children:"USD / mo"})]}),null===t.word_amount?Object(i.jsx)("p",{className:"text-primary",children:"Unlimited words!"}):Object(i.jsxs)("p",{className:"".concat(n?"text-white":"text-dark"),children:[oe(t.word_amount)," words ","each \n              ".concat(1!==t.subscription_interval?t.subscription_interval+" ":"","\n              ").concat(t.subscription_period)]}),Object(i.jsx)("hr",{}),Object(i.jsx)("h4",{className:"h6 ".concat(n?"text-white":"text-dark"),style:{fontWeight:600},children:"What's Included?"}),Object(i.jsxs)("ul",{style:{listStyleType:"none",marginLeft:0,paddingLeft:0},children:[Object(i.jsxs)("li",{className:"".concat(n?"text-white":"text-dark"),children:[Object(i.jsx)("i",{className:"fa fa-check me-2 text-gradient"}),"Trending Topics Generator"]}),Object(i.jsxs)("li",{className:"".concat(n?"text-white":"text-dark"),children:[Object(i.jsx)("i",{className:"fa fa-check me-2 text-gradient"}),"Trending Hashtag Generator"]}),Object(i.jsxs)("li",{className:"".concat(n?"text-white":"text-dark"),children:[Object(i.jsx)("i",{className:"fa fa-check me-2 text-gradient"}),"Fetch Content Research & Generator"]}),Object(i.jsxs)("li",{className:"".concat(n?"text-white":"text-dark"),children:[Object(i.jsx)("i",{className:"fa fa-check me-2 text-gradient"}),"Access to Community"]}),Object(i.jsxs)("li",{className:"".concat(n?"text-white":"text-dark"),children:[Object(i.jsx)("i",{className:"fa fa-check me-2 text-gradient"}),"Step-by-Step Video Tutorials"]}),Object(i.jsxs)("li",{className:"".concat(n?"text-white":"text-dark"),children:[Object(i.jsx)("i",{className:"fa fa-check me-2 text-gradient"}),"Create Content in Spanish & English"]}),Object(i.jsxs)("li",{className:"".concat(n?"text-white":"text-dark"),children:[Object(i.jsx)("i",{className:"fa fa-check me-2 text-gradient"}),"Secure storage."]})]})]}),Object(i.jsx)("div",{className:"card-footer",children:Object(i.jsx)(Ye.a,{to:"/checkout/".concat(t.product_id),className:"btn my-3 btn-primary w-100",children:"Get Started"})})]})},Ac=function(e){var t=e.isHome,n=Object(a.useContext)(fn),c=n.products,s=n.getAllProducts;Object(a.useEffect)((function(){s()}),[]);return Object(i.jsxs)("div",{className:"container py-5",children:[Object(i.jsx)("div",{className:"container-fluid px-0 text-center text-black mb-4",children:Object(i.jsx)("h1",{className:"".concat(t?"text-white":"text-dark"),children:"Pricing & Plans"})}),Object(i.jsx)("div",{className:"row",children:function(){if(Array.isArray(c))return c.map((function(e){return Object(i.jsx)("div",{className:"col-12 col-md-6 col-lg-4 col-xl-3",children:Object(i.jsx)(Nc,{isHome:t,product:e})},e.product_id)}))}()})]})},Cc=function(e){var t=e.product_id,n=Object(a.useContext)(kt),c=n.product,s=n.descuento,r=n.getSingleProduct;Object(a.useEffect)((function(){r(t)}),[]);var o=function(){return"each \n              ".concat(1!==c.subscription_interval?c.subscription_interval+" ":"","\n              ").concat(c.subscription_period)},l=function(){if(s&&null!==s){var e=c.price;if(s.is_percent){var t=parseFloat(1-s.amount/100);e=parseFloat(c.price)*t}else e=c.price-s.amount;return e=parseFloat(e).toFixed(2),Object(i.jsxs)("div",{className:"container-fluid px-0",children:[Object(i.jsxs)("h5",{className:"text-primary",children:["Discounted Total: ","$",e," USD"]}),s.first_invoice_only&&Object(i.jsxs)("p",{children:["Then $",oe(c.price)," ",o()," ",Object(i.jsxs)("span",{className:"small d-block",children:["Starting on"," ",ae()().add(c.subscription_interval,c.subscription_period).format("MMM Do YYYY")]})]})]})}},d=function(){if(null!==c.thumbnail&&null!==c.image)return Object(i.jsx)("img",{src:"".concat(re,"/").concat(c.image.name,".").concat(c.image.type),className:"class-package-thumbnail mb-3"})};return Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{children:"You're Paying"}),Object(i.jsx)("div",{className:"mb-3 card p-3",children:function(){if(c&&null!==c){var e=null!==c.sale_price&&""!==c.sale_price?c.sale_price:c.price;return Object(i.jsxs)("div",{children:[d(),Object(i.jsx)("h3",{children:c.title}),Object(i.jsx)("h4",{children:c.name}),Object(i.jsxs)("h3",{className:"h5",children:["Total: ","$",oe(e)," USD"," ",o()]}),null===c.word_amount?Object(i.jsx)("p",{children:"Unlimited words!"}):Object(i.jsxs)("p",{children:[oe(c.word_amount)," words ",o()]}),l()]})}}()})]})},wc=function(){return Object(i.jsx)("div",{className:"row fixed-top bg-white border-bottom align-items-center pb-3 pt-3",children:Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsx)("div",{className:"container px-2",children:Object(i.jsxs)("div",{className:"row align-items-center",children:[Object(i.jsx)("div",{className:"col-12 col-md-9 col-lg-10",children:Object(i.jsx)("h1",{className:"mb-0",children:"Checkout"})}),Object(i.jsx)("div",{className:"col-12 col-md-3 col-lg-2 text-end",children:Object(i.jsx)(Ye.a,{to:"/",children:Object(i.jsx)("img",{src:"https://tradealizebot.s3.us-west-1.amazonaws.com/tradealize-logo.png",className:"mw-100 w-100 d-block m-auto"})})})]})})})})},Ec=function(){return Object(i.jsx)("div",{className:"row fixed-bottom w-100 mx-0 bg-dark text-white py-2",children:Object(i.jsx)("div",{className:"container-fluid px-0",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col col-md-6",children:Object(i.jsx)(Ye.a,{to:"/privacidad",className:"text-white",children:"Privacy Policy"})}),Object(i.jsx)("div",{className:"col col-md-6"})]})})})})},Sc=function(e){var t=e.name,n=e.label,a=e.children,c=e.selected,s=e.description,r=e.setPaymentMethod;return Object(i.jsxs)("div",{className:"card p-3 mb-3 payment-method-card ".concat(c===t?"border-primary":""),onClick:function(){return r(t)},children:[Object(i.jsxs)("div",{className:"row mb-1 align-items-center",children:[Object(i.jsx)("div",{className:"col-1",children:Object(i.jsx)("input",{type:"radio",checked:c===t})}),Object(i.jsx)("div",{className:"col-11",children:Object(i.jsx)("label",{className:"mb-0",children:n})})]}),s&&Object(i.jsx)("p",{className:"mb-0",children:s}),a]})},_c=n.p+"static/media/payment-method-mc.0393f768.png",kc=n.p+"static/media/payment-method-visa.ae586fd3.png",Pc=n.p+"static/media/payment-method-amex.c326e84c.png",Ic=function(e){var t=e.hideButton,n=e.payment_source,a=e.setPaymentMethod,c=e.paymentMethod,s=n.payment_source_id,r=n.card_type,o=n.last_digits;return Object(i.jsx)("div",{className:"card p-3 mb-3 ".concat(c===s?"border-primary":""),onClick:function(){"function"===typeof a&&a(s)},children:Object(i.jsxs)("div",{className:"row",children:[!t&&Object(i.jsx)("div",{className:"col-1",children:Object(i.jsx)("input",{type:"radio",checked:c===s})}),Object(i.jsx)("div",{className:"col-11",children:Object(i.jsxs)("div",{className:"row align-items-center",children:[Object(i.jsx)("div",{className:"col col-md-4",children:Object(i.jsx)("img",{src:"mastercard"===r?_c:"visa"===r?kc:Pc,className:"card-type",alt:"card type"})}),Object(i.jsx)("div",{className:"col col-md-4 capitalize",children:r}),Object(i.jsxs)("div",{className:"col col-md-4",children:["**** ",o]})]})})]})})},Tc=n(91),Mc=n(47),Rc=function(e){var t=e.element_id,n=e.discountCode,c=Object(a.useState)(!1),s=Object(l.a)(c,2),r=s[0],o=s[1],d=Object(a.useState)(!1),u=Object(l.a)(d,2),b=u[0],j=u[1],m=Object(Mc.useElements)(),h=Object(Mc.useStripe)(),p=Object(a.useContext)($t).user,O=Object(a.useContext)(Ae).alert,f=function(e){o(!1),Object(Ye.c)("/thankyou/".concat(e))},x=function(){var e=Object(Bt.a)(Object(Yt.a)().mark((function e(a){var c,s;return Object(Yt.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),o(!0),c=m.getElement(Mc.CardElement),e.next=5,h.createPaymentMethod({type:"card",card:c,billing_details:{email:p.email}});case 5:s=e.sent,xt.postCheckout({product_id:t,payment_method_id:1,payment_method:s,discountCode:n}).then(function(){var e=Object(Bt.a)(Object(Yt.a)().mark((function e(t){var n,a,s,r;return Object(Yt.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,a=n.clientSecret,s=n.purchase_id,!a){e.next=8;break}return e.next=4,h.confirmCardPayment(a,{payment_method:{card:c}});case 4:(r=e.sent).error?(i=r.error.message,o(!1),O("There was an error processing your purchase: ".concat(i))):f(s),e.next=9;break;case 8:f(s);case 9:case"end":return e.stop()}var i}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){o(!1);var t="We're sorry, there was an error processing your purchase.";return e.response&&(t=402===e.response.status?"We're sorry, your was declined due to insufficient funds.":"We're sorry, your card was rejected, please try another payment method."),O(t)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(Bt.a)(Object(Yt.a)().mark((function e(t){return Object(Yt.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t.empty);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsx)("div",{className:"container-fluid px-0",children:Object(i.jsxs)("form",{onSubmit:x,children:[Object(i.jsx)(Mc.CardElement,{id:"card-element",options:ue,onChange:v,className:"form-control pt-2 my-2"}),Object(i.jsx)("button",{className:"btn btn-primary bold mt-2",disabled:r||b,children:r?Object(i.jsx)("div",{className:"spinner-border"}):"Pay Now"})]})})},Dc=Object(Tc.a)("pk_live_51KTpLAI8NRGj253P12Pd4GUSBDKc8wvz3YIPmw0Ct60jsL7oF238H3Nz3uI3J4hM5QPTPjyk7QuQh101cmOy48RL00HKzyjYkX"),Uc=function(e){var t=e.element_id,n=e.discountCode;return Object(i.jsx)("div",{className:"container-fluid position-relative h-100 px-0",children:Object(i.jsx)(Mc.Elements,{stripe:Dc,children:Object(i.jsx)(Rc,{element_id:t,discountCode:n})})})},Yc=function(e){var t=e.product_id,n=e.paymentMethod,c=e.setPaymentMethod,s=e.handleSubmitCheckout,r=Object(a.useContext)(kt),o=r.spinner,l=r.discountCode,d=Object(a.useContext)($t).user,u=Object(a.useContext)(Ee),b=u.payment_sources,j=u.getPaymentSources;Object(a.useEffect)((function(){null!==d&&j()}),[d]);var m=function(){if(b&&null!==b)return b.map((function(e){return Object(i.jsx)(Ic,{payment_source:e,setPaymentMethod:c,paymentMethod:n},e.payment_source_id)}))};return Object(i.jsx)("div",{children:function(){if(null!==d)return Object(i.jsxs)("div",{className:"oveflow-hidden",children:[Object(i.jsx)("h2",{children:"Payment Method"}),m(),Object(i.jsx)(Sc,{name:"card",label:"Credit or Debit Card",selected:n,setPaymentMethod:c,children:"card"===n&&Object(i.jsx)(Uc,{element_id:t,discountCode:l})}),Object(i.jsx)("div",{className:"container-fluid px-0 text-right",children:!["paypal","card"].includes(n)&&Object(i.jsx)("button",{onClick:function(){return s(n)},className:"btn btn-primary btn-lg",disabled:o,children:o?Object(i.jsx)("div",{className:"spinner-border"}):"Pay Now"})})]})}()})},Bc=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useContext)($t),r=s.spinner,o=s.user,d=s.signIn,u=s.signUp,b=function(e,t){d(e,t)},j=function(e,t,n,a){u(e,t,n,a)};return Object(i.jsx)("div",{children:function(){if(null===o)return n?Object(i.jsx)(qn,{handleSubmitLogin:b,setLogin:function(){return c(!1)},spinner:r}):Object(i.jsx)(Qn,{handleSubmitSignUp:j,setLogin:function(){return c(!0)},spinner:r})}()})},Lc=function(e){var t=e.product_id,n=Object(a.useContext)($t).user,c=Object(a.useContext)(kt),s=c.discountCode,r=c.setDiscountCode,o=c.spinnerDescuento,l=c.validarDescuento,d=function(e){e.preventDefault(),l(s,t)};return Object(i.jsx)("div",{children:function(){if(null!==n)return Object(i.jsxs)("form",{className:"card p-3",onSubmit:d,children:[Object(i.jsx)("label",{className:"bold mb-1",children:"Discount Code"}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 col-lg-12",children:Object(i.jsx)("input",{type:"text",value:s,className:"form-control mb-2",onChange:function(e){return r(e.target.value)}})}),Object(i.jsx)("div",{className:"col-12 col-lg-12",children:Object(i.jsx)("button",{type:"submit",className:"btn w-100 btn-sm btn-outline-primary",disabled:o,children:o?Object(i.jsx)("div",{className:"spinner-border"}):"Apply"})})]})]})}()})},Fc=function(e){var t=e.product_id,n=Object(a.useContext)(Ae),c=n.confirm,s=n.clearModal,r=Object(a.useContext)($t),o=r.user,l=r.getCurrentUser,d=Object(a.useContext)(kt),u=d.createOrder,b=d.setDescuento,j=d.discountCode,m=d.setPaymentSource,h=d.payment_source_id;Object(a.useEffect)((function(){return function(){l(),b(null)}}),[]),Object(a.useEffect)((function(){if(o&&null!==o){var e=o.purchase;if(e&&null!==e){if("active"===e.status&&(e.product_id>t||1===e.product_id))return c("You already have an active subscription to the ".concat(e.product.name," plan, which offers more benefits. If you continue with this new purchase, you will be downgrading your subscription. Are you sure you want to proceed?"),s,(function(){return Object(Ye.c)("/")}));if("active"===e.status&&parseInt(e.product_id)===parseInt(t))return c("You already have an active subscription to the ".concat(e.product.name," plan."),(function(){s(),Object(Ye.c)("/")}),(function(){s(),Object(Ye.c)("/")}))}}}),[o]);return Object(i.jsxs)("div",{id:"checkout",className:"container-fluid px-0",children:[Object(i.jsx)(wc,{}),Object(i.jsx)("div",{className:"checkout-content container",children:Object(i.jsxs)("div",{className:"row pt-4 pb-5",children:[Object(i.jsxs)("div",{className:"col-12 col-md-4 my-2",children:[Object(i.jsx)(Cc,{product_id:t}),Object(i.jsx)(Lc,{product_id:t})]}),Object(i.jsxs)("div",{className:"col-12 col-md-8 my-2",children:[Object(i.jsx)(Bc,{}),null!==o&&Object(i.jsx)(Yc,{product_id:t,paymentMethod:h,setPaymentMethod:m,handleSubmitCheckout:function(e){u({product_id:t,discountCode:j,payment_source_id:e,payment_method_id:1})}})]})]})}),Object(i.jsx)(Ec,{})]})},Gc=n(95),Wc=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useContext)($t),r=s.user,i=s.getCurrentUser,o=Object(a.useContext)(Ae).alert,d=Object(a.useContext)(ht),u=d.setEnhancing,b=d.appendMessage,j=d.setGenerating,m=d.setRuningThread,h=d.appendEnhancedToken,p=d.setPropertyMessagePlural,O=d.setThreadMessages,f=function(e){b(e),j(!1)},x=function(e){O(e),m(!1)},v=function(e){e.content&&null!==e.content&&"undefined"!==!String(e.content)&&!String(e.content).includes("undefined")&&p(e.message_id,"content",e.content)},g=function(e){e.content&&null!==e.content&&"undefined"!==!String(e.content)&&!String(e.content).includes("undefined")&&h(e.content)},y=function(e){var t="user-".concat(r.user_id);e.emit("join_room",t)},N=function(e){o(e)},A=function(){j(!1),u(!1),i()};return[n,function(){var e=Object(Gc.a)("",{transports:["websocket"]});e.on("connect",(function(){return y(e)})),e.on("message",f),e.on("message_stream",v),e.on("message_stream_end",A),e.on("message_stream_enhance",g),e.on("message_stream_enhance_end",A),e.on("thread_messages",x),e.on("error",N),c(e)}]},Hc=function(){var e=Object(a.useContext)(Ae),t=e.size,n=e.title,c=e.content,s=e.hideHeader,r=e.clearModal,o=e.showModal,l=e.component,d=e.children,u=e.onCancel,b=e.callback,j=qe(),m=function(){"function"===typeof u&&u(),r()};return Object(i.jsx)("div",{className:"modal fade",id:"modal",tabIndex:"-1",role:"dialog","data-bs-backdrop":"static","aria-labelledby":"modal","aria-hidden":!o,children:Object(i.jsx)("div",{className:"modal-dialog ".concat(t&&null!==t?"modal-".concat(t):""),role:"document",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsx)("button",{type:"button",className:"btn position-absolute text-muted mt-3 me-3 end-0 top-0 d-flex align-items-center justify-content-center","data-bs-dismiss":"modal",onClick:m,style:{width:"30px",height:"30px"},children:Object(i.jsx)("i",{className:"fa fa-times"})}),n&&!s&&Object(i.jsx)("div",{className:"modal-header pb-0 border-0",children:Object(i.jsx)("h5",{className:"modal-title",children:n})}),Object(i.jsxs)("div",{className:"modal-body",children:[c,l,d]}),(b||u)&&Object(i.jsx)("div",{className:"modal-footer",children:Object(i.jsx)("div",{className:"container-fluid px-0",children:Object(i.jsxs)("div",{className:"row align-items-center",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{type:"button",className:"btn text-muted w-100","data-dismiss":"modal",onClick:m,children:j.general.cancel})}),Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{type:"button",className:"btn btn-primary w-100",onClick:b,children:j.general.confirm})})]})})})]})})})},zc=n(93),qc=function(e){var t=Object(zc.parse)(window.location.search);t.uid&&(window.localStorage.setItem("uid",t.uid),window.localStorage.setItem("uid_expiration",ae()().add(5,"minutes").format("YYYY-MM-DD HH:mm"))),function(e){var t=window.localStorage.getItem("uid");if(t&&null!==t){var n=window.localStorage.getItem("uid_expiration");ae()(n).isBefore(ae()())?(window.localStorage.removeItem("uid"),window.localStorage.removeItem("uid_expiration")):"function"===typeof e&&e(t),window.location.pathname.includes("/chat-embedded")||Object(Ye.c)("/")}}(e)},Zc=function(){var e=Object(a.useContext)(Ae),t=e.showAlert,n=e.alertContent,c=e.hideAlert;return Object(i.jsxs)("div",{className:"alert alert-danger alert-dismissible fixed-top ms-auto me-2 mt-1 fade-show ".concat(t?"":"hidden"),role:"alert",style:{maxWidth:500,zIndex:2500},children:[n,Object(i.jsx)("button",{className:"btn-close",onClick:c})]})},Qc=function(){var e=Object(a.useContext)(Ae),t=e.showSuccess,n=e.successContent,c=e.clearSuccess;return Object(i.jsxs)("div",{className:"alert alert-success alert-dismissible fixed-top ms-auto me-2 fade-show mt-2 ".concat(t?"":"hidden"),role:"alert",style:{maxWidth:500,zIndex:2500},children:[n,Object(i.jsx)("button",{className:"btn-close",onClick:c})]})},Vc=function(){var e=Object(a.useContext)(Ae).clearModal,t=Object(a.useContext)($t),n=t.user,c=t.updateUser;return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:Object(i.jsx)("iframe",{title:"Welcome to Tradealize",src:"https://player.vimeo.com/video/901604230?badge=0&autopause=0&player_id=0&app_id=58479",allow:"autoplay; fullscreen; picture-in-picture",className:"mw-100 w-100 my-3 vimeo-player",allowFullScreen:!0})}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{onClick:function(){c(Object(o.a)(Object(o.a)({},n),{},{show_video:!1}),(function(){}),!0)},className:"btn btn-sm btn-link text-center mt-4 d-block m-auto",children:"Don't show this again"})}),Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)("button",{onClick:e,className:"btn w-100 btn-primary",children:"OK, Thanks"})})]})]})},Jc=function(){var e=Wc(),t=Object(l.a)(e,2),n=(t[0],t[1]),c=Object(a.useState)(!0),s=Object(l.a)(c,2),r=s[0],o=s[1],d=Object(a.useContext)(Qt),u=Object(a.useContext)(ht).setConversation,b=Object(a.useContext)(Qe).conversation,j=Object(a.useContext)(Ae),m=j.clearModal,h=j.modalComponent,p=Object(a.useContext)(O),f=p.setupDevice,x=p.setupPlatform,v=Object(a.useContext)($t),g=v.user,y=v.refresh,N=v.getCurrentUser,A=v.userLoggedIn,C=d.firebaseConfig;Object(a.useEffect)((function(){f(),A(),x(),qc(S)}),[]),Object(a.useEffect)((function(){r||n()}),[r]),Object(a.useEffect)((function(){null!==d&&null!==d.app_name&&(document.title=d.app_name)}),[d]),Object(a.useEffect)((function(){b&&null!==b&&u(b)}),[b]),Object(a.useEffect)((function(){null!==g&&(r&&o(!1),window.location.pathname.includes("login")&&Object(Ye.c)("/"),g.show_video&&setTimeout(w,1e3))}),[g]),Object(a.useEffect)((function(){y&&E()}),[y]);var w=function(){h("Welcome",Object(i.jsx)(Vc,{}),{size:"lg"})},E=function(){h("",Object(i.jsx)(qn,{handleCallback:m}))},S=function(e){Kt(C).setToken(e),N()};return Object(i.jsxs)("div",{id:"main",className:"container-fluid px-0 overflow-hidden",children:[function(){var e=je(d,"favicon_url");if(null!==e)return Object(i.jsx)(gc.a,{url:e})}(),Object(i.jsxs)(Ye.b,{className:"h-100 overflow-hidden",children:[Object(i.jsx)(Ac,{path:"/pricing"}),Object(i.jsx)(Fc,{path:"/checkout/:product_id"}),null!==g?[Object(i.jsx)(xc,{path:"/*"},"panel")]:[Object(i.jsx)(yc,{path:"/"},"landing"),Object(i.jsx)(Kn,{path:"/auth/*"},"auth")]]}),Object(i.jsx)(Hc,{}),Object(i.jsx)(Zc,{}),Object(i.jsx)(Qc,{})]})};Object(In.a)();var Kc=[en,function(e){var t=e.children,n=Object(a.useContext)($t).user,c={tabs:[],toolsTabs:{tools:{name:"Tools",icon:"fa fa-tools me-2",tabs:[]}},organizationTabs:{organization:{name:"Organization Admin",icon:"fas fa-building me-2",tabs:[{name:{en:"Admin Panel",es:"Panel de Administraci\xf3n"},icon:"fas fa-shield-alt",link:"admin-panel"},{name:{en:"Campaign",es:"Campa\xf1a"},icon:"fas fa-bullhorn",link:"campaign"},{name:{en:"Teams",es:"Equipos"},icon:"fas fa-users",link:"teams"}]},organizationPicker:{name:"Organizations",icon:"fas fa-building me-2",tabs:[{name:{en:"Organization 1",es:"Organizaci\xf3n 1"},icon:"fa fa-industry",link:"admin-panel"},{name:{en:"Organization 2",es:"Organizaci\xf3n 2"},icon:"fa fa-industry",link:"campaign"},{name:{en:"Organization 3",es:"Organizaci\xf3n 3"},icon:"fa fa-industry",link:"teams"}]}},adminTabs:{admin:{name:"Admin",icon:"fa fa fa-user-shield me-2",tabs:[{link:"/admin",name:{en:"Purchases",es:"Comparas"},icon:"fa fa fa-dollar-sign me-2"},{link:"/admin/users",name:{en:"Users",es:"Usuarios"},icon:"fa fa-user-circle me-2"},{link:"/admin/staff",name:{en:"Staff",es:"Staff"},icon:"fa fa-user-check me-2"}]},analytics:{name:"Analytics",icon:"fa fa fa-chart-pie me-2",tabs:[{link:"/admin/analytics/customers",name:{en:"Customers",es:"Clientes"},icon:"fa fa-user-check me-2"},{link:"/admin/analytics/income",name:{en:"Income",es:"Ingresos"},icon:"fa fa-dollar-sign me-2"},{link:"/admin/analytics/products",name:{en:"Products",es:"Productos"},icon:"fas fa-box me-2"}]}},userSettingTabs:{userSettings:{name:n?null===n||void 0===n?void 0:n.name:"User Settings",icon:"fas fa-user me-2",tabs:[{link:"/tutorials",name:{en:"Tutorials",es:"Tutoriales"},icon:"fa fa-chalkboard me-2"},{link:"/billing",name:{en:"Billing",es:"Facturaci\xf3n"},icon:"fa fa-file-invoice me-2"},{name:{en:"Settings",es:"Ajustes"},icon:"fa fa-cog",link:"/settings"}]}},selected:"",showSettings:!1},s=Object(a.useReducer)(kn,c),r=Object(l.a)(s,2),d=r[0],u=r[1];return Object(i.jsx)(Pn.Provider,{value:Object(o.a)(Object(o.a)({},d),{},{setSelected:function(e){u({type:Sn,payload:e})},toggleSettings:function(){u({type:_n})}}),children:t})},function(e){var t=e.children,n=Object(a.useReducer)(Ra,Fa),c=Object(l.a)(n,2),s=c[0],r=c[1],d=Object(a.useContext)(Ae).success,u=function(e){Ua(e).then((function(e){var t=e.data.users;r({type:N,payload:t})}))};return Object(i.jsx)(Ga.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{getStaff:u,createStaff:function(e,t){Ya(e,t).then((function(){u(),le(),d("Usuario creado con \xe9xito.")}))},updateStaff:function(e,t){Ba(e,t).then((function(){u(),le(),d("Usuario actualizado con \xe9xito.")}))},deleteStaff:function(e){La(e).then((function(){u(),le(),d("Usuario elminado con \xe9xito.")}))},clearStaff:function(){r({type:N,payload:null})}}),children:t})},function(e){var t=e.children,n=Object(a.useReducer)(V,J),c=Object(l.a)(n,2),s=c[0],r=c[1];return Object(i.jsx)(K.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{setFilter:function(e,t,n){r({type:z,payload:{key:e,value:t,namespace:n}})}}),children:t})},function(e){var t=e.children,n=Object(a.useReducer)(It,an),c=Object(l.a)(n,2),s=c[0],r=c[1],d=Object(a.useContext)(nn).getSingleCustomer,u=Object(a.useContext)(Ae).success;return Object(i.jsx)(cn.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{getInvoices:function(e){r({type:U}),Mt.getInvoices(e).then((function(e){var t=e.data.invoices;r({type:"INVOICES_RECEIVED",payload:t})})).finally(r({type:D}))},createInvoice:function(){r({type:Z})},setPropertyInvoice:function(e,t){r({type:q,payload:{key:e,value:t}})},postInvoice:function(e){var t=Mt.putInvoice;isNaN(e.invoice_id)&&(t=Mt.postInvoice),t(e).then((function(){d(e.user_id),u("Cargo guardado."),le()}))},setInvoice:function(e){r({type:Q,payload:e})},clearInvoice:function(){r({type:Q,payload:null})}}),children:t})},function(e){var t=e.children,n=Object(a.useReducer)(pn,On),c=Object(l.a)(n,2),s=c[0],r=c[1];return Object(i.jsx)(fn.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{setProduct:function(e){r({type:hn,payload:e})},getPAvailableProducts:function(e){gt(e).then((function(e){var t=e.data.products;r({type:mn,payload:t})}))},getAllProducts:function(e){yt(e).then((function(e){var t=e.data.products;r({type:mn,payload:t})}))},clearProduct:function(){r({type:hn,payload:null})},clearProducts:function(){r({type:mn,payload:null})},getSingleProduct:function(e){Nt(e).then((function(e){var t=e.data.product;r({type:hn,payload:t})}))}}),children:t})},function(e){var t=e.children,n=qe(),c=Object(a.useReducer)(it,mt),s=Object(l.a)(c,2),r=s[0],d=s[1],u=Object(a.useContext)(Ae),b=u.alert,j=u.success,m=u.clearModal,h=function(e){if(d({type:D}),e.response){if(e.response.data&&e.response.data.error&&e.response.data.error.code)return b("Open AI Error: ".concat(e.response.data.error.message));if(412===e.response.status)return m(),Object(Ye.c)("/sorry")}b(e)};return Object(i.jsx)(ht.Provider,{value:Object(o.a)(Object(o.a)({},r),{},{setPrompt:function(e){d({type:Je,payload:e})},setMessage:function(e){d({type:Ke,payload:e})},saveMessage:function(e,t){var n=dt.putMessage;isNaN(parseInt(e.message_id))&&(n=dt.postMessage,d({type:$e,payload:!0}));var a=[];if(e.files&&null!==e.files)for(var c=function(){var t=e.files[s],n=new Promise((function(n,a){var c=jt.getFormData(t);jt.postFile(c).then((function(t){var a=t.data.file_id;e.file_id=a,n()})).catch(a)}));a.push(n)},s=0;s<e.files.length;s++)c();Promise.all(a).then((function(){n(e).then((function(e){"function"===typeof t&&t(e.data.message),e.data.message&&d({type:et,payload:e.data.message})})).catch(h)}))},getMessages:function(e){dt.getMessages(e).then((function(e){var t=e.data,n=t.messages,a=t.max;d({type:at,payload:{messages:n,max:a}})}))},clearMessages:function(){d({type:nt})},createMessage:function(){d({type:tt})},deleteMessage:function(e,t){return new Promise((function(a,c){dt.deleteMessage(e).then((function(){t&&j(n.messages.deleted),a()})).catch((function(e){h(e),c(e)}))}))},appendMessage:function(e){d({type:et,payload:e})},setGenerating:function(e){d({type:$e,payload:e})},setConversation:function(e){d({type:Se,payload:e})},setPropertyMessage:function(e,t){d({type:ct,payload:{key:e,value:t}})},saveMessageContent:function(e){d({type:Xe,payload:e})},getConversationMessages:function(e,t){dt.getConversationMessages(e,t).then((function(e){var t=e.data,n=t.messages,a=t.max;d({type:at,payload:{messages:n,max:a}})}))},setPropertyMessagePlural:function(e,t,n){d({type:st,payload:{message_id:e,key:t,value:n}})}}),children:t})},function(e){var t=e.children,n=Object(a.useReducer)(pt,_t),c=Object(l.a)(n,2),s=c[0],r=c[1],d=Object(a.useContext)(Ae),u=d.alert,b=(d.success,function(e){var t=e.data.purchase_id;Object(Ye.c)("/thankyou/".concat(t))}),j=function(e){var t="There was an error processing your purchase.";if(e.response){var n=e.response.status;400===n&&(t="You have not selected a valid payment method."),412===n?t="We're sorry, this product cannot be purchase anymore.":409===n&&(t="We're sorry, you cannot purchase this product anymore.")}return u(t)};return Object(i.jsx)(kt.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{setPayPal:function(e){var t={product_id:e.product_id,discountCode:e.discountCode,payment_method_id:e.payment_method_id,payment_source_id:e.payment_source_id};Et("paypal-button"),St("paypal-checkout"),(function(){var e=document.createElement("script");return e.src="https://www.paypalobjects.com/api/checkout.js",e.id="paypal-checkout",document.body.appendChild(e),e}()).onload=function(){window.paypal.Button.render({env:"production",payment:function(e,n){return xt.postPayPal(t).then((function(e){return e.data.orderID})).catch(j)},onApprove:function(e,n){return xt.capturePayPal(Object(o.a)(Object(o.a)({},t),e)).then((function(t){St("paypal-checkout"),Et("paypal-button"),Object(Ye.c)("/thankyou/".concat(e.purchase_id))}))}},"#paypal-button")}},createOrder:function(e){var t=e.type,n=e.product_id,a=e.invoice_id,c=e.discountCode,s=e.payment_method_id,i=e.payment_source_id,o=e.contract_invoice_id;r({type:U}),xt.postCheckout({type:t,product_id:n,invoice_id:a,discountCode:c,payment_method_id:s,payment_source_id:i,contract_invoice_id:o}).then((function(e){r({type:D}),b(e)})).catch((function(e){r({type:D}),j(e)}))},showSpinner:function(){r({type:U})},hideSpinner:function(){r({type:D})},setDescuento:function(e){r({type:G,payload:e})},setDiscountCode:function(e){r({type:F,payload:e})},setPaymentSource:function(e){r({type:B,payload:e})},validarDescuento:function(e,t){r({type:W}),Ct(e,t).then((function(e){var t=e.data,n=t.discount,a=t.error;a&&u(a.message),r({type:G,payload:n})})).catch((function(e){if(r({type:H}),e.response&&412===e.response.status)return u("We're sorry, you cannot use this discount code anymore.");u("We're sorry, that discount is invalid.")}))},getSingleProduct:function(e){Nt(e).then((function(e){var t=e.data.product;r({type:Y,payload:t})})).catch((function(e){e.response&&404===e.response.status&&u("Lo sentimos, no encontramos el paquete que quieres comprar."),u(e)}))},setPayPalSubscription:function(e,t){St("paypal-subscription"),(function(){var e=document.createElement("script");return e.src=wt,e.id="paypal-subscription",document.body.appendChild(e),e}()).onload=function(n){Et("paypal-button"),window.paypal.Buttons({createSubscription:function(n,a){return xt.postPayPal(e,t).then((function(e){var t=e.data.plan_id;return a.subscription.create({plan_id:t})}))},onApprove:function(e,t){return xt.capturePayPal(Object(o.a)({},e)).then((function(e){var t=e.data.purchase_id;St("paypal-subscription"),Object(Ye.c)("/thankyou/".concat(t))}))},onError:j}).render("#paypal-button")}}}),children:t})},function(e){var t=e.children,n=Object(a.useReducer)(Bn,Wn),c=Object(l.a)(n,2),s=c[0],r=c[1],d=Object(a.useContext)(nn).getSingleCustomer,u=Object(a.useContext)(Ae),b=u.clearModal,j=u.success,m=function(){Gn.getPurchases().then((function(e){var t=e.data.purchases;r({type:Tn,payload:t})}))};return Object(i.jsx)(Hn.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{updatePurchase:function(e){Gn.updatePurchase(e).then((function(){j("Compra actualizada con \xe9xito"),d(e.user_id),b()})).catch(alert)},setPropertyPurchase:function(e,t){r({type:Mn,payload:{key:e,value:t}})},getInvoice:function(e){Mt.getSingleInvoice(e).then((function(e){var t=e.data.invoice;r({type:Yn,payload:t})}))},getInvoices:function(){Mt.getInvoices().then((function(e){var t=e.data.invoices;r({type:Dn,payload:t})}))},getPurchase:function(e){Gn.getPurchase(e).then((function(e){var t=e.data.purchase;r({type:Un,payload:t})}))},getPurchases:m,getPurchasesAdmin:function(e){r({type:U}),Gn.getPurchasesAdmin(e).then((function(e){var t=e.data.purchases;r({type:Tn,payload:t})})).finally(r({type:D}))},setPaymentNeeded:function(e){r({type:Rn,payload:e})},setPurchase:function(e){r({type:Un,payload:e})},getSinglePurchase:function(e){Gn.getSinglePurchase(e).then((function(e){var t=e.data.purchase;r({type:Un,payload:t})}))},cancelSubscription:function(e,t){Gn.cancelSubscription(e.purchase_id,t).then((function(e){setTimeout(m,1500),m(),b()})).finally((function(){return d(e.user_id)}))}}),children:t})},function(e){var t=e.children,n=Object(a.useReducer)(b,p),c=Object(l.a)(n,2),s=c[0],r=c[1];return Object(i.jsx)(O.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{setupDevice:function(){h.a.getInfo().then((function(e){r({type:u,payload:e.Training})}))},setupPlatform:function(){var e=m.a.getPlatform();r({type:d,payload:e})},setupStatusBar:function(){j.a.setStyle({style:j.b.Dark})}}),children:t})},function(e){var t=e.children,n=Object(a.useReducer)(on,bn),c=Object(l.a)(n,2),s=c[0],r=c[1];return Object(i.jsx)(jn.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{getTutorials:function(){un.getTutorials().then((function(e){var t=e.data.tutorials;r({type:sn,payload:t})}))},getSingleTutorial:function(e){un.getSingleTutorial(e).then((function(e){var t=e.data.tutorial;r({type:rn,payload:t})}))}}),children:t})},function(e){var t=e.children,n=Object(a.useReducer)(yn,wn),c=Object(l.a)(n,2),s=c[0],r=c[1];return Object(i.jsx)(En.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{getPurchases:function(e,t){Cn.getPurchases(e,t).then((function(e){r({type:gn,payload:e.data})}))},getIngresos:function(e,t){Cn.getIngresos(e,t).then((function(e){r({type:vn,payload:e.data})}))},getSignUps:function(e,t){Cn.getInscritos(e,t).then((function(e){r({type:xn,payload:e.data})}))}}),children:t})},function(e){var t=e.children,n=qe(),c=Object(a.useReducer)(Me,Ze),s=Object(l.a)(c,2),r=s[0],d=s[1],u=Object(a.useContext)(Ae),b=u.alert,j=u.success,m=u.clearModal,h=function(e){if(d({type:D}),e.response){if(e.response.data&&e.response.data.error&&e.response.data.error.code)return b("Open AI Error: ".concat(e.response.data.error.message));if(412===e.response.status)return m(),Object(Ye.c)("/sorry")}b(e)},p=function(e){Ue.getConversations(e).then((function(e){var t=e.data.conversations;d({type:ke,payload:t})}))},O=function(e){d({type:Se,payload:e})};return Object(i.jsx)(Qe.Provider,{value:Object(o.a)(Object(o.a)({},r),{},{getAllTags:function(e){Ue.getAllTags(e).then((function(e){var t=e.data.tags;d({type:Ie,payload:t})})).catch((function(e){console.log(e)}))},setConversation:O,getConversations:p,saveConversation:function(e){d({type:U});var t=Ue.putConversation;isNaN(parseInt(e.conversation_id))&&(t=Ue.postConversation),t(e).then((function(e){d({type:D});var t=e.data.conversation,a=t.archived?n.conversations.archived:n.conversations.saved;j(a),O(t),p(),m()})).catch(h)},clearConversations:function(){d({type:ke,payload:null})},createConversation:function(){d({type:_e})},deleteConversation:function(e){return new Promise((function(t,a){Ue.deleteConversation(e).then((function(){j(n.conversations.deleted),Object(Ye.c)("/conversations"),p(),m(),t()})).catch((function(e){h(e),a(e)}))}))},getSingleConversation:function(e){Ue.getSingleConversations(e).then((function(e){var t=e.data.conversation;d({type:Se,payload:t})}))},setPropertyConversation:function(e,t){d({type:Pe,payload:{key:e,value:t}})}}),children:t})},function(e){var t=e.children,n=Object(a.useReducer)($,we),c=Object(l.a)(n,2),s=c[0],r=c[1],d=Object(a.useContext)(Ae),u=d.success,b=d.alert,j=d.clearModal,m=function(){xe().then((function(e){var t=e.data.payment_sources;r({type:X,payload:t})}))};return Object(i.jsx)(Ee.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{getPaymentSources:m,deletePaymentSource:function(e){ve(e).then((function(){u("PaymentSource de Pago eliminado con \xe9xito."),m(),j()})).catch((function(){b("Hubo un error al agregar este m\xe9todo de pago.")}))},postPaymentSource:function(e,t){ge(e).then((function(n){e=n.data.payment_source,u("M\xe9todo de pago guardado."),"function"===typeof t&&t(e.payment_source_id),m(),j()}))}}),children:t})},function(e){var t=e.children,n=Object(a.useReducer)(aa,sa),c=Object(l.a)(n,2),s=c[0],r=c[1];return Object(i.jsx)(ra.Provider,{value:Object(o.a)(Object(o.a)({},s),{},{getPaymentMethods:function(){ca.getPaymentMethods().then((function(e){var t=e.data.payment_methods;r({type:L,payload:t})}))}}),children:t})}].reduce((function(e,t){return function(n){var a=n.children;return Object(i.jsx)(e,{children:Object(i.jsx)(t,{children:a})})}}),(function(e){var t=e.children;return Object(i.jsx)(i.Fragment,{children:t})})),Xc=function(){var e=Object(a.useContext)(Qt),t=e.accent,n=e.primary,c=e.accent_secondary,s=e.firebaseConfig,r=e.getAppConfig;Object(a.useEffect)((function(){r()}),[]),Object(a.useEffect)((function(){zn("accent-secondary",c),zn("primary",n),zn("accent",t)}),[n,t]);return Object(i.jsx)("div",{children:function(){if(s&&null!==s)return Object(i.jsx)(ze,{children:Object(i.jsx)(Ce,{children:Object(i.jsx)(en,{children:Object(i.jsx)(Kc,{children:Object(i.jsx)(Jc,{})})})})})}()})},$c=function(){return Object(i.jsx)(Vt,{children:Object(i.jsx)(Xc,{})})},es=function(e){e&&e instanceof Function&&n.e(12).then(n.bind(null,172)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};n(155),n(156),n(157),n(158),n(159),n(160),n(161);r.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)($c,{})}),document.getElementById("root")),es()}},[[162,2,3]]]);
//# sourceMappingURL=main.4a3d2042.chunk.js.map